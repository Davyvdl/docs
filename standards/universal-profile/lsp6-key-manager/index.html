<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2XGVSVVVD4"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-2XGVSVVVD4",{anonymize_ip:!0})</script><title data-react-helmet="true">Key Manager | LUKSO Tech Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.lukso.tech/standards/universal-profile/lsp6-key-manager"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Key Manager | LUKSO Tech Documentation"><meta data-react-helmet="true" name="description" content="Key Manager flow chart"><meta data-react-helmet="true" property="og:description" content="Key Manager flow chart"><link data-react-helmet="true" rel="icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.lukso.tech/standards/universal-profile/lsp6-key-manager"><link data-react-helmet="true" rel="alternate" href="https://docs.lukso.tech/standards/universal-profile/lsp6-key-manager" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.lukso.tech/standards/universal-profile/lsp6-key-manager" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.6eb122bb.css">
<link rel="preload" href="/assets/js/runtime~main.e2e5395c.js" as="script">
<link rel="preload" href="/assets/js/main.033248f1.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="LUKSO Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo.png" alt="LUKSO Logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">LUKSO</b></a><a class="navbar__item navbar__link" href="/networks/mainnet">Networks</a><a class="navbar__item navbar__link navbar__link--active" href="/standards/introduction">Standards</a><a class="navbar__item navbar__link" href="/tools/getting-started">Tools</a><a class="navbar__item navbar__link" href="/guides/universal-profile/create-profile">Guides</a><a class="navbar__item navbar__link" href="/faq/lukso">FAQ</a></div><div class="navbar__items navbar__items--right"><a href="https://bit.ly/LUKSOWhitepaper" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Whitepaper<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/lukso-network/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">🌜</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">🌞</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/standards/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/standards/generic-standards/lsp1-universal-receiver">Generic Standards</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/standards/generic-standards/lsp1-universal-receiver">LSP1 - Universal Receiver</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/standards/generic-standards/lsp2-json-schema">LSP2 - Storage Layout</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" href="/standards/universal-profile/introduction">Universal Profiles</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/standards/universal-profile/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/standards/universal-profile/LSP0-Foundation">LSP0 - ERC725Account</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/standards/universal-profile/lsp1-universal-receiver-delegate">LSP1 - Universal Receiver Delegate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/standards/universal-profile/lsp3-universal-profile">LSP3 - Universal Profile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/standards/universal-profile/lsp6-key-manager">LSP6 - Key Manager</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/standards/nft-2.0/introduction">NFT 2.0</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/standards/nft-2.0/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/standards/nft-2.0/LSP7-Digital-Asset">LSP7 - Digital Asset</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/standards/nft-2.0/LSP8-Identifiable-Digital-Asset">LSP8 - Identifiable Digital Asset</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/standards/smart-contracts/introduction">Contracts Implementation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/standards/faq/channel-nonce">FAQ</a></div></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Key Manager</h1></header><p><img src="https://user-images.githubusercontent.com/31145285/129574099-9eba52d4-4f82-4f11-8ac5-8bfa18ce97d6.jpeg" alt="Key Manager flow chart"></p><p>An <a href="https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-0-ERC725Account.md" target="_blank" rel="noopener noreferrer">ERC725Account</a> on its own comes with limited usability. Since it is an <strong>owned contract</strong>, only the Account&#x27;s owner can write data into it, or use it to interact with other smart contracts.</p><p>Here comes the Key Manager. It is a smart contract that controls an ERC725Account, acting as its new owner. It then functions as a gateway for an ERC725Account.</p><p>The idea is to give <a href="#types-of-permissions">permissions</a> to any <code>address</code>, like Externally Owned Accounts (EOA) or smart contracts. These can then interact with an <strong>ERC725Account</strong> through the Key Manager. On each interaction, the Key Manager will allow or restrict access, based on the permissions set for the calling <code>address</code>.</p><p>❌ <!-- --> <!-- --> <strong>Without a Key Manager</strong>, only the ERC725Account&#x27;s owner can use its Account.</p><p>✅ <!-- --> <!-- --> <strong>With a Key Manager</strong> attached to an ERC725Account, other addresses (EOAs or contracts) can use an Account on behalf of its owner.</p><p>Permissions for an <code>address</code> are stored inside the key-value store of the ERC725Account contract, under specific keys listed in the <a href="#permissions-keys"><strong>Permission Keys</strong></a> section.</p><br>Since permissions are stored under the ERC725Account contract, they are not attached to the Key Manager itself. The Key Manager can then easily be upgraded without the need to set all the permissions again.<hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="-types-of-permissions"><a name="types-of-permissions"></a> Types of permissions<a class="hash-link" href="#-types-of-permissions" title="Direct link to heading">​</a></h2><p>There are 3 main types of permissions that can be set for addresses interacting with a Universal Profile.</p><ul><li><p><a href="#address-permissions"><strong>Address Permissions</strong></a>: defines a set of <a href="#permissions-value"><strong>permission values</strong></a> for an <code>address</code>.</p></li><li><p><a href="#allowed-addresses"><strong>Allowed Addresses:</strong></a> defines which EOA or contract addresses an <code>address</code> is allowed to interact with.</p></li><li><p><a href="#allowed-functions"><strong>Allowed Functions:</strong></a> defines which function selectors an <code>address</code> is allowed to run on a specific contract.</p></li></ul><br><h3 class="anchor anchorWithStickyNavbar_31ik" id="-address-permissions"><a name="address-permissions"></a> Address Permissions<a class="hash-link" href="#-address-permissions" title="Direct link to heading">​</a></h3><p>An address can hold one (or more) permissions, enabling it to perform multiple set of actions on an ERC725Account. Such actions include <strong>setting data</strong>, <strong>calling other contracts</strong>, <strong>transferring native tokens</strong> and more.</p><p>To grant permission(s) to an <code>&lt;address&gt;</code>, set the following key-value pair below in the <a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-725.md#erc725y" target="_blank" rel="noopener noreferrer">ERC725Y</a> contract storage.</p><ul><li><strong>key:</strong> <code>0x4b80742d0000000082ac0000&lt;address&gt;</code></li><li><strong>value:</strong> one of the available options below.</li></ul><table><thead><tr><th>Permission Name</th><th align="left">Value</th></tr></thead><tbody><tr><td>CHANGEOWNER</td><td align="left"><code>0x0000000000000000000000000000000000000000000000000000000000000001</code></td></tr><tr><td>CHANGEPERMISSIONS</td><td align="left"><code>0x0000000000000000000000000000000000000000000000000000000000000002</code></td></tr><tr><td>ADDPERMISSIONS</td><td align="left"><code>0x0000000000000000000000000000000000000000000000000000000000000004</code></td></tr><tr><td>SETDATA</td><td align="left"><code>0x0000000000000000000000000000000000000000000000000000000000000008</code></td></tr><tr><td>CALL</td><td align="left"><code>0x0000000000000000000000000000000000000000000000000000000000000010</code></td></tr><tr><td>STATICCALL</td><td align="left"><code>0x0000000000000000000000000000000000000000000000000000000000000020</code></td></tr><tr><td>DELEGATECALL</td><td align="left"><code>0x0000000000000000000000000000000000000000000000000000000000000040</code></td></tr><tr><td>DEPLOY</td><td align="left"><code>0x0000000000000000000000000000000000000000000000000000000000000080</code></td></tr><tr><td>TRANSFERVALUE</td><td align="left"><code>0x0000000000000000000000000000000000000000000000000000000000000100</code></td></tr><tr><td>SIGN</td><td align="left"><code>0x0000000000000000000000000000000000000000000000000000000000000200</code></td></tr></tbody></table><blockquote><p>See section <a href="#permission-values"><strong><em>Permissions Values</em></strong></a> for more infos about what each permission enables</p></blockquote><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Each permission MUST be:</p><ul><li><strong>exactly 32 bytes long</strong></li><li>zero left-padded<ul><li><code>0x0000000000000000000000000000000000000000000000000000000000000008</code> ✅</li><li><code>0x0800000000000000000000000000000000000000000000000000000000000000</code> ❌</li></ul></li></ul><p>For instance, if you try to set the permission SETDATA for an address as <code>0x08</code>, this will be stored internally as <code>0x0800000000000000000000000000000000000000000000000000000000000000</code>, and will cause incorrect behaviour with odd revert messages.</p></div></div><br><h3 class="anchor anchorWithStickyNavbar_31ik" id="-allowed-addresses"><a name="allowed-addresses"></a> Allowed addresses<a class="hash-link" href="#-allowed-addresses" title="Direct link to heading">​</a></h3><p>You can restrict an address to interact only with specific contracts or EOAs.</p><p>To restrict an <code>&lt;address&gt;</code> to only talk to a specific contract at address <code>&lt;target-contract-address&gt;</code>, the key-value pair below can be set in the ERC725Y contract storage.</p><ul><li><strong>key:</strong> <code>0x4b80742d00000000c6dd0000&lt;address&gt;</code></li><li><strong>value:</strong> <code>&lt;target-contract-address&gt;</code></li></ul><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Infos</h5></div><div class="admonition-content"><p><strong>If no addresses are set, interacting with any address is allowed (= all addresses are whitelisted).</strong></p></div></div><br><h3 class="anchor anchorWithStickyNavbar_31ik" id="-allowed-functions"><a name="allowed-functions"></a> Allowed functions<a class="hash-link" href="#-allowed-functions" title="Direct link to heading">​</a></h3><p>You can also restrict which functions a specific address can run, by providing a list of <code>bytes4</code> function selector.</p><p>To restrict an <code>&lt;address&gt;</code> to only execute the function <code>transfer(address,uint256)</code> (selector: <code>a9059cbb</code>), the following key-value pair can be set in the ERC725Y contract storage.</p><ul><li><strong>key:</strong> <code>0x4b80742d000000008efe0000&lt;address&gt;</code></li><li><strong>value:</strong> <code>0xa9059cbb</code></li></ul><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Infos</h5></div><div class="admonition-content"><p><strong>If no bytes4 selectors are set, the caller address can execute any functions.</strong></p></div></div><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="-permission-keys"><a name="permissions-keys"></a> Permission Keys<a class="hash-link" href="#-permission-keys" title="Direct link to heading">​</a></h2><p>The following keys are available to set the different types of permissions.</p><table><thead><tr><th>Permission Type</th><th align="left">Key</th></tr></thead><tbody><tr><td><a href="https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-6-KeyManager.md#addresspermissionspermissionsaddress" target="_blank" rel="noopener noreferrer">Address Permissions</a></td><td align="left"><code>0x4b80742d0000000082ac0000&lt;address&gt;</code></td></tr><tr><td><a href="https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-6-KeyManager.md#addresspermissionsallowedaddressesaddress" target="_blank" rel="noopener noreferrer">Allowed Addresses</a></td><td align="left"><code>0x4b80742d00000000c6dd0000&lt;address&gt;</code></td></tr><tr><td><a href="https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-6-KeyManager.md#addresspermissionsallowedfunctionsaddress" target="_blank" rel="noopener noreferrer">Allowed Functions</a></td><td align="left"><code>0x4b80742d000000008efe0000&lt;address&gt;</code></td></tr></tbody></table><blockquote><p><a href="https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-6-KeyManager.md#erc725y-keys" target="_blank" rel="noopener noreferrer">See LSP6 for more details</a></p></blockquote><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="-permission-values"><a name="permission-values"></a> Permission Values<a class="hash-link" href="#-permission-values" title="Direct link to heading">​</a></h2><p>The following default permissions can be set for any address. They are listed below, according to their order of importance.</p><p>You can find <strong>more details about each permissions by clicking on the toggles below</strong>.</p><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary><code>CHANGEOWNER</code> - Allows changing the owner of the controlled contract</summary><div><div class="collapsibleContent_3OHp"><p style="margin-bottom:3%;margin-top:2%;text-align:center"><b>value = </b><code>0x0000000000000000000000000000000000000000000000000000000000000001</code></p><p>Enables to change the owner of the linked ERC725Account.</p><p>Using this permission, you can easily upgrade the <code>KeyManager</code> attached to the Account by transferring ownership to a new <code>KeyManagerV2</code>.</p></div></div></details><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary><code>CHANGEPERMISSIONS</code> - Allows changing of permissions of addresses (adding + removing)</summary><div><div class="collapsibleContent_3OHp"><p style="margin-bottom:3%;margin-top:2%;text-align:center"><b>value = </b><code>0x0000000000000000000000000000000000000000000000000000000000000002</code></p><p>This permission allows an address to <b>grant + revoke</b> permissions for any specific address (including itself).</p></div></div></details><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary><code>ADDPERMISSIONS</code> - Allows adding new permissions to addresses</summary><div><div class="collapsibleContent_3OHp"><p style="margin-bottom:3%;margin-top:2%;text-align:center"><b>value = </b><code>0x0000000000000000000000000000000000000000000000000000000000000004</code></p><p>This permission allows an address to <b>grant <span style="color:red">(but not revoke)</span></b> permissions for any specific address (including itself).</p></div></div></details><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary><code>SETDATA</code> - Allows setting data on the controlled contract</summary><div><div class="collapsibleContent_3OHp"><p style="margin-bottom:3%;margin-top:2%;text-align:center"><b>value = </b><code>0x0000000000000000000000000000000000000000000000000000000000000008</code></p>Allows an address to write any form of data in the <a href="https://**github**.com/ethereum/EIPs/blob/master/EIPS/eip-725.md#erc725y" target="_blank" rel="noopener noreferrer">ERC725Y</a> key-value store of the linked `ERC725Account` (except permissions, that requires the permissions <code>CHANGEPERMISSIONS</code> described above).</div></div></details><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary><code>CALL</code> - Allows calling other contracts through the controlled contract</summary><div><div class="collapsibleContent_3OHp"><p style="margin-bottom:3%;margin-top:2%;text-align:center"><b>value = </b><code>0x0000000000000000000000000000000000000000000000000000000000000010</code><br></p><p>This permission enables anyone to use the ERC725Account linked to Key Manager to make external calls (to contracts or Externally Owned Accounts). Allowing state changes at the address being called.</p></div></div></details><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary><code>STATICCALL</code> - Allows calling other contracts through the controlled contract</summary><div><div class="collapsibleContent_3OHp"><p style="margin-bottom:3%;margin-top:2%;text-align:center"><b>value = </b><code>0x0000000000000000000000000000000000000000000000000000000000000020</code><br></p><p>This permission enables to use the ERC725Account linked to Key Manager to make external calls to contracts while disallowing state changes at the address being called.</p><p>It uses the <a href="https://eips.ethereum.org/EIPS/eip-214" target="_blank" rel="noopener noreferrer"><code>STATICCALL</code></a> opcode when performing the external call.</p><blockquote>If any state is changed at a target contract through a <code>STATICCALL</code>, the call will revert.</blockquote></div></div></details><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary><code>DELEGATECALL</code> - Allows delegate calling other contracts through the controlled contract</summary><div><div class="collapsibleContent_3OHp"><p style="margin-bottom:3%;margin-top:2%;text-align:center"><b>value = </b><code>0x0000000000000000000000000000000000000000000000000000000000000040</code></p><p>This permission to execute code and functions from other contracts in the context of the UP.</p><div class="admonition admonition-danger alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</h5></div><div class="admonition-content"><p><strong><code>DELEGATECALL</code></strong> is currently disallowed (even if set on the KeyManager) because of its dangerous nature, as some malicious code can be executed in the context of the linked Account contract.</p></div></div></div></div></details><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary><code>DEPLOY</code> - Allows deploying other contracts through the controlled contract</summary><div><div class="collapsibleContent_3OHp"><p style="margin-bottom:3%;margin-top:2%;text-align:center"><b>value = </b><code>0x0000000000000000000000000000000000000000000000000000000000000080</code></p><p>Enables the caller to deploy a smart contract, using the linked ERC725Account as a deployer. The bytecode of the contract to be deployed should be provided in the payload (abi-encoded) passed to the Key Manager.</p><blockquote>Both the <code>CREATE</code> or <a href="https://eips.ethereum.org/EIPS/eip-1014" target="_blank" rel="noopener noreferrer"><code>CREATE2</code></a> opcode can be used to deploy the contract.</blockquote></div></div></details><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary><code>TRANSFERVALUE</code> - Allows transfering value to other contracts from the controlled contract</summary><div><div class="collapsibleContent_3OHp"><p style="margin-bottom:3%;margin-top:2%;text-align:center"><b>value = </b><code>0x0000000000000000000000000000000000000000000000000000000000000100</code></p>Enables to send native currency from the linked ERC725Account to any address.<br><br><blockquote>NB: for a simple native token transfer, no data (<code>&quot;&quot;</code>) should be passed to the fourth parameter of the <code>execute</code> function of the Account contract.<br>For instance: <code>account.execute(operationCall, recipient, amount, &quot;&quot;)</code></blockquote></div></div></details><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary><code>SIGN</code>: Allows signing on behalf of the controlled account, for example for login purposes</summary><div><div class="collapsibleContent_3OHp"><p style="margin-bottom:3%;margin-top:2%;text-align:center"><b>value = </b><code>0x0000000000000000000000000000000000000000000000000000000000000200</code></p>The <code>SIGN</code> permission can be used for keys to sign login messages. It is mostly for web2.0 apps to know which key SHOULD sign.</div></div></details><p><strong>Permissions can be combined together</strong>, if an address needs to hold more than one permission.</p><p>Simply calculate the sum of their decimal value, and convert the result back into hexadecimal. For instance:</p><blockquote><p><a href="https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-6-KeyManager.md#permission-values-in-addresspermissionspermissionsaddress" target="_blank" rel="noopener noreferrer">See LSP6 Specs for more details</a></p></blockquote><div><div value="example1" label="Example 1" default=""><div class="codeBlockContainer_K1bP language-solidity theme-code-block"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">permissions: CALL + TRANSFERVALUE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  0x0000000000000000000000000000000000000000000000000000000000000010 (16 in decimal)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+ 0x0000000000000000000000000000000000000000000000000000000000000100 (256)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">= 0x0000000000000000000000000000000000000000000000000000000000000110 (= 272)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div value="example2" label="Example 2"><div class="codeBlockContainer_K1bP language-solidity theme-code-block"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">permissions: CHANGEPERMISSIONS + SETDATA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  0x0000000000000000000000000000000000000000000000000000000000000002 (2 in decimal)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+ 0x0000000000000000000000000000000000000000000000000000000000000008 (8)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">= 0x000000000000000000000000000000000000000000000000000000000000000a (= 10)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>You can easily <a href="/tools/erc725js/classes/ERC725#encodepermissions"><code>encodePermissions</code></a> and <a href="/tools/erc725js/classes/ERC725#decodepermissions"><code>decodePermissions</code></a> with <a href="/tools/erc725js/getting-started"><strong>erc725.js</strong></a>.</p></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>When deployed with our <a href="https://docs.lukso.tech/tools/lsp-factoryjs/introduction/getting-started/" target="_blank" rel="noopener noreferrer"><strong>lsp-factory.js</strong> tool</a>, the Universal Profile owner will have all the permissions above set by default.</p></div></div><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="references">References<a class="hash-link" href="#references" title="Direct link to heading">​</a></h2><ul><li><a href="https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-6-KeyManager.md" target="_blank" rel="noopener noreferrer">LUKSO Standards Proposals: LSP6 - Key Manager (Standard Specification, GitHub)</a></li><li><a href="https://github.com/lukso-network/lsp-universalprofile-smart-contracts/tree/develop/contracts/LSP6KeyManager" target="_blank" rel="noopener noreferrer">LSP6 KeyManager: Solidity implementations (GitHub)</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/lukso-network/docs/tree/main/docs/standards/universal-profile/04-lsp6-key-manager.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/standards/universal-profile/lsp3-universal-profile"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">LSP3 - Universal Profile</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/standards/nft-2.0/introduction"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Introduction</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-types-of-permissions" class="table-of-contents__link toc-highlight"><a name="types-of-permissions"></a> Types of permissions</a><ul><li><a href="#-address-permissions" class="table-of-contents__link toc-highlight"><a name="address-permissions"></a> Address Permissions</a></li><li><a href="#-allowed-addresses" class="table-of-contents__link toc-highlight"><a name="allowed-addresses"></a> Allowed addresses</a></li><li><a href="#-allowed-functions" class="table-of-contents__link toc-highlight"><a name="allowed-functions"></a> Allowed functions</a></li></ul></li><li><a href="#-permission-keys" class="table-of-contents__link toc-highlight"><a name="permissions-keys"></a> Permission Keys</a></li><li><a href="#-permission-values" class="table-of-contents__link toc-highlight"><a name="permission-values"></a> Permission Values</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/lukso-network" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/lukso" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/lukso_io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://medium.com/lukso" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCG3TAT6pSpfafGihCMUcrjA" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">About</div><ul class="footer__items"><li class="footer__item"><a href="https://lukso.network/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LUKSO<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://lukso.network/about" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Team<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://lukso.network/jobs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://lukso.network/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 LUKSO Blockchain GmbH &mdash; hello@lukso.network</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e2e5395c.js"></script>
<script src="/assets/js/main.033248f1.js"></script>
</body>
</html>