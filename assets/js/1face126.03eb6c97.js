"use strict";(self.webpackChunklukso_docs=self.webpackChunklukso_docs||[]).push([[9044],{3905:function(e,a,t){t.d(a,{Zo:function(){return d},kt:function(){return u}});var n=t(7294);function i(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){i(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,n,i=function(e,a){if(null==e)return{};var t,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(i[t]=e[t]);return i}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=n.createContext({}),p=function(e){var a=n.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},d=function(e){var a=p(e.components);return n.createElement(s.Provider,{value:a},e.children)},c={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},m=n.forwardRef((function(e,a){var t=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=p(t),u=i,v=m["".concat(s,".").concat(u)]||m[u]||c[u]||r;return t?n.createElement(v,o(o({ref:a},d),{},{components:t})):n.createElement(v,o({ref:a},d))}));function u(e,a){var t=arguments,i=a&&a.mdxType;if("string"==typeof e||i){var r=t.length,o=new Array(r);o[0]=m;var l={};for(var s in a)hasOwnProperty.call(a,s)&&(l[s]=a[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var p=2;p<r;p++)o[p]=t[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},8871:function(e,a,t){t.r(a),t.d(a,{assets:function(){return d},contentTitle:function(){return s},default:function(){return u},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return c}});var n=t(7462),i=t(3366),r=(t(7294),t(3905)),o=["components"],l={sidebar_position:1,title:"Universal Profile"},s="Deploying a Universal Profile",p={unversionedId:"tools/lsp-factoryjs/deployment/universal-profile",id:"tools/lsp-factoryjs/deployment/universal-profile",title:"Universal Profile",description:"LSPFactory allows you to quickly deploy and configure a Universal Profile consisting of an LSP0 ERC725 Account, an LSP6 Key Manager, and an LSP1-UniversalReceiver smart contract:",source:"@site/docs/tools/lsp-factoryjs/deployment/universal-profile.md",sourceDirName:"tools/lsp-factoryjs/deployment",slug:"/tools/lsp-factoryjs/deployment/universal-profile",permalink:"/tools/lsp-factoryjs/deployment/universal-profile",editUrl:"https://github.com/lukso-network/docs/tree/main/docs/tools/lsp-factoryjs/deployment/universal-profile.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Universal Profile"},sidebar:"toolsSidebar",previous:{title:"Getting Started",permalink:"/tools/lsp-factoryjs/getting-started"},next:{title:"Digital Asset",permalink:"/tools/lsp-factoryjs/deployment/digital-asset"}},d={},c=[{value:"Profile Properties",id:"profile-properties",level:2},{value:"Controller Addresses",id:"controller-addresses",level:3},{value:"Adding LSP3 Metadata",id:"adding-lsp3-metadata",level:3},{value:"Setting Images in LSP3MetaData",id:"setting-images-in-lsp3metadata",level:3},{value:"Pre-uploaded Images",id:"pre-uploaded-images",level:4},{value:"Using the Javascript File object",id:"using-the-javascript-file-object",level:4},{value:"Uploading LSP3 metadata to IPFS",id:"uploading-lsp3-metadata-to-ipfs",level:3},{value:"Deployment Configuration",id:"deployment-configuration",level:2},{value:"Proxy Deployment",id:"proxy-deployment",level:3},{value:"Universal Receiver Delegate Proxy Deployment",id:"universal-receiver-delegate-proxy-deployment",level:4},{value:"Using a Custom Address",id:"using-a-custom-address",level:3},{value:"Contract Versions",id:"contract-versions",level:3},{value:"Deploying Custom Bytecode",id:"deploying-custom-bytecode",level:3},{value:"IPFS Upload Options",id:"ipfs-upload-options",level:3},{value:"Reactive Deployment",id:"reactive-deployment",level:3}],m={toc:c};function u(e){var a=e.components,t=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,n.Z)({},m,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"deploying-a-universal-profile"},"Deploying a Universal Profile"),(0,r.kt)("p",null,"LSPFactory allows you to quickly deploy and configure a Universal Profile consisting of an ",(0,r.kt)("a",{parentName:"p",href:"../../../standards/universal-profile/lsp0-erc725account"},"LSP0 ERC725 Account"),", an ",(0,r.kt)("a",{parentName:"p",href:"../../../standards/universal-profile/lsp6-key-manager"},"LSP6 Key Manager"),", and an ",(0,r.kt)("a",{parentName:"p",href:"/standards/generic-standards/lsp1-universal-receiver"},"LSP1-UniversalReceiver")," smart contract:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"await lspFactory.UniversalProfile.deploy(profileProperties [, options]);\n")),(0,r.kt)("p",null,"This will deploy the following contracts:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"../../../standards/universal-profile/lsp0-erc725account"},"LSP0 ERC725 Account")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"../../../standards/universal-profile/lsp6-key-manager"},"LSP6 Key Manager")),(0,r.kt)("li",{parentName:"ul"},"And link to a pre-deployed ",(0,r.kt)("a",{parentName:"li",href:"/standards/generic-standards/lsp1-universal-receiver"},"LSP1 Universal Receiver"))),(0,r.kt)("p",null,"After, it will:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"upload metadata to IPFS and set the ",(0,r.kt)("a",{parentName:"li",href:"../../../standards/universal-profile/lsp3-universal-profile-metadata"},"LSP3 Universal Profile")," metadata,"),(0,r.kt)("li",{parentName:"ul"},"attach the Universal Receiver Delegate to the ERC725 Account,"),(0,r.kt)("li",{parentName:"ul"},"set the Key Manager as the owner of the ERC725 Account, and"),(0,r.kt)("li",{parentName:"ul"},"set all ",(0,r.kt)("a",{parentName:"li",href:"../../../standards/universal-profile/lsp6-key-manager#-types-of-permissions"},"permissions")," for the ",(0,r.kt)("inlineCode",{parentName:"li"},"controllerAddresses")," except ",(0,r.kt)("inlineCode",{parentName:"li"},"DELEGATECALL"),".")),(0,r.kt)("p",null,"These smart contracts linked with some ",(0,r.kt)("a",{parentName:"p",href:"../../../standards/universal-profile/lsp3-universal-profile-metadata"},"LSP3 Universal Profile Metadata")," form a Universal Profile. The metadata is the 'face' of your profile and contains information such as your name, description, and profile image."),(0,r.kt)("h2",{id:"profile-properties"},"Profile Properties"),(0,r.kt)("p",null,"Inside the ",(0,r.kt)("inlineCode",{parentName:"p"},"profileProperties")," object, you can set profile configuration options such as the controller addresses and LSP3 metadata."),(0,r.kt)("h3",{id:"controller-addresses"},"Controller Addresses"),(0,r.kt)("p",null,"You can set the addresses which should be able to control your Universal Profile initially by passing in the ",(0,r.kt)("inlineCode",{parentName:"p"},"controllerAddresses"),". The addresses that were passed here will be given all LSP6 KeyManager permissions except ",(0,r.kt)("inlineCode",{parentName:"p"},"DELEGATECALL")," to ",(0,r.kt)("a",{parentName:"p",href:"https://solidity-by-example.org/hacks/delegatecall/"},"prevent accidental misuse"),". If your controller keys require ",(0,r.kt)("inlineCode",{parentName:"p"},"DELEGATECALL"),", you can ",(0,r.kt)("a",{parentName:"p",href:"/guides/key-manager/give-permissions"},"change the permission after deployment"),"."),(0,r.kt)("p",null,"The property ",(0,r.kt)("inlineCode",{parentName:"p"},"controllerAddresses")," can be filled with addresses of externally owned accounts (EOAs) or another smart contract that can call the ",(0,r.kt)("inlineCode",{parentName:"p"},"execute(calldata)")," function on the KeyManager."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"await lspFactory.UniversalProfile.deploy({\n  controllerAddresses: [\n    '0x7Ab53a0C861fb955050A8DA109eEeA5E61fd8Aa4',\n    '0x56fE4E7dc2bc0b6397E4609B07b4293482E3F72B',\n  ],\n});\n")),(0,r.kt)("h3",{id:"adding-lsp3-metadata"},"Adding LSP3 Metadata"),(0,r.kt)("p",null,"When deploying a Universal Profile with LSPFactory, you can specify your Universal Profile metadata using the ",(0,r.kt)("inlineCode",{parentName:"p"},"lsp3Profile")," key in the ",(0,r.kt)("inlineCode",{parentName:"p"},"profileProperties")," object:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"await lspFactory.UniversalProfile.deploy({\n  controllerAddresses: ['0x...'],\n  lsp3Profile: myUniversalProfileData,\n});\n")),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Profile Metadata can be passed as either a JSON object containing the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-3-UniversalProfile-Metadata.md#lsp3profile"},"LSP3Metadata")," you want to upload or a URL of your previously uploaded metadata."))),(0,r.kt)("p",null,"If an LSP3MetaData object is passed, LSPFactory will process and upload your metadata to IPFS."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"See ",(0,r.kt)("a",{parentName:"p",href:"././universal-profile#ipfs-upload-options"},"Upload Options")," for details on how to specify a custom IPFS gateway."))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:"title='Uploading an LSP3 metadata automatically'",title:"'Uploading",an:!0,LSP3:!0,metadata:!0,"automatically'":!0},"await lspFactory.UniversalProfile.deploy({\n    controllerAddresses: ['0x...'],\n    lsp3Profile: {\n      name: 'My-Cool-Profile',\n      description: 'My cool Universal Profile',\n      tags: ['public-profile'],\n      links: [{\n        title: 'My Website',\n        url: 'www.my-website.com'\n      }],\n      ...\n    }\n  });\n};\n")),(0,r.kt)("p",null,"The following two examples will download the JSON file before hashing it and generating the proper ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md#JSONURL"},"JSONURL")," value."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:"title='Providing a previously uploaded LSP3 metadata IPFS URL'",title:"'Providing",a:!0,previously:!0,uploaded:!0,LSP3:!0,metadata:!0,IPFS:!0,"URL'":!0},"await lspFactory.UniversalProfile.deploy({\n    controllerAddresses: ['0x...'],\n    lsp3Profile: 'ipfs://QmQ7Wq4y2gWiuzB4a4Wd6UiidKNpzCJRpgzFqQwzyq6SsV'\n  });\n};\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:"title='Providing a previously uploaded LSP3 metadata URL'",title:"'Providing",a:!0,previously:!0,uploaded:!0,LSP3:!0,metadata:!0,"URL'":!0},"await lspFactory.UniversalProfile.deploy({\n    controllerAddresses: ['0x...'],\n    lsp3Profile: 'https://mycoolserver.com/myProfile.json'\n  });\n};\n")),(0,r.kt)("p",null,"You can also provide the JSON file yourself to generate the hash value:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:"title='Providing an already uploaded LSP3 metadata  url and JSON file itself'",title:"'Providing",an:!0,already:!0,uploaded:!0,LSP3:!0,metadata:!0,"":!0,url:!0,and:!0,JSON:!0,file:!0,"itself'":!0},"await lspFactory.UniversalProfile.deploy({\n  controllerAddresses: ['0x...'],\n  lsp3Profile: {\n    json: lsp3ProfileJson,\n    url: 'https://mycoolserver.com/myProfile.json',\n  },\n});\n")),(0,r.kt)("p",null,"Or you can provide the hash value and then uploaded file URL:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:"title='Providing an already uploaded LSP3 metadata  url and hash values'",title:"'Providing",an:!0,already:!0,uploaded:!0,LSP3:!0,metadata:!0,"":!0,url:!0,and:!0,hash:!0,"values'":!0},"await lspFactory.UniversalProfile.deploy({\n  controllerAddresses: ['0x...'],\n  lsp3Profile: {\n    hash: '0xfdafad027ecfe57eb4ad047b938805d1dec209d6e9f960fc320d7b9b11cbed14',\n    hashFunction: 'keccak256(utf8)',\n    url: 'https://mycoolserver.com/file.json',\n  },\n});\n")),(0,r.kt)("h3",{id:"setting-images-in-lsp3metadata"},"Setting Images in LSP3MetaData"),(0,r.kt)("p",null,"The properies ",(0,r.kt)("inlineCode",{parentName:"p"},"profileImage")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"backgroundImage")," can be passed inside the ",(0,r.kt)("inlineCode",{parentName:"p"},"lsp3Profile")," object. These can be given as an object containing previously uploaded image Metadata, a Javascript ",(0,r.kt)("inlineCode",{parentName:"p"},"File")," object if used client-side."),(0,r.kt)("h4",{id:"pre-uploaded-images"},"Pre-uploaded Images"),(0,r.kt)("p",null,"An LSP3 Profile requires the properties ",(0,r.kt)("inlineCode",{parentName:"p"},"profileImage")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"backgroundImage")," to be uploaded in multiple sizes so that interfaces can choose which one to load for better loading performance."),(0,r.kt)("p",null,"If you already have an image uploaded to IPFS in multiple sizes, you can pass image metadata inside the ",(0,r.kt)("inlineCode",{parentName:"p"},"lsp3Profile")," object when deploying a Profile."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Both ",(0,r.kt)("inlineCode",{parentName:"p"},"profileImage")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"backgroundImage")," take an array, where each element is the metadata of different image size."))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:"title='Setting LSP3 metadata to be uploaded with profile and background images'",title:"'Setting",LSP3:!0,metadata:!0,to:!0,be:!0,uploaded:!0,with:!0,profile:!0,and:!0,background:!0,"images'":!0},"const myUniversalProfileData = {\n  name: 'My Universal Profile',\n  description: 'My cool Universal Profile',\n  profileImage: [\n    {\n      width: 500,\n      height: 500,\n      hashFunction: 'keccak256(bytes)',\n      hash: '0xfdafad027ecfe57eb4ad044b938805d1dec209d6e9f960fc320d7b9b11cced14', // bytes32 hex string of the image hash\n      url: 'ipfs://QmPLqMFDxiUgYAom3Zg4SiwoxDaFcZpHXpCmiDzxrajSGp',\n    },\n    ... // Multiple image sizes should be included\n  ],\n  backgroundImage: [\n    {\n      width: 500,\n      height: 500,\n      hashFunction: 'keccak256(bytes)',\n      hash: '0xfdafad027ecfe57eb4ad047b938805d1dec209d6e9f960fc320d7b9b11cbed14', // bytes32 hex string of the image hash\n      url: 'ipfs://QmPLqMFHxiUDYAom3Zg4SiwoxDaFcZpHXpAmiDzxrtjSGp',\n    },\n    ... // Multiple image sizes should be included\n  ],\n};\n\nawait lspFactory.UniversalProfile.deploy({\n    controllingAccounts: ['0x...'],\n    lsp3Profile: myUniversalProfileData\n  });\n};\n")),(0,r.kt)("h4",{id:"using-the-javascript-file-object"},"Using the Javascript File object"),(0,r.kt)("p",null,"Javascript offers a ",(0,r.kt)("inlineCode",{parentName:"p"},"File")," object for easy handling of files inside a browser. Developers can pass these to ",(0,r.kt)("inlineCode",{parentName:"p"},"profileImage")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"backgroundImage")," fields to allow easy drag and drop of images from a user interface."),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Javascript's ",(0,r.kt)("inlineCode",{parentName:"p"},"File")," object is only available when using javascript in the browser. If using LSPFactory in a Node environment, image metadata should be passed."))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'<input type="file" id="input">\n\n<script>\n    const myLocalFile = document.getElementById(\'input\').files[0];\n\n    const myUniversalProfileData = {\n        name: "My Universal Profile",\n        description: "My cool Universal Profile",\n        profileImage: myLocalFile,\n        backgroundImage: myLocalFile,\n        tags: [\'Fashion\', \'Design\'],\n        links: [{\n          title: "My Website",\n          url: "www.my-website.com"\n        }],\n    };\n\n    await lspFactory.UniversalProfile.deploy({\n      controllingAccounts: [\'0x...\'],\n      lsp3Profile: myUniversalProfileData\n    });\n};\n<script/>\n')),(0,r.kt)("p",null,"LSPFactory will create five resized versions of the passed image, with max sizes of ",(0,r.kt)("inlineCode",{parentName:"p"},"1800x1800"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"1024x1024"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"640x640"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"320x320"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"180x180"),". These resized images will be set inside the ",(0,r.kt)("inlineCode",{parentName:"p"},"LSP3Metadata")," and attached to the ",(0,r.kt)("inlineCode",{parentName:"p"},"ERC725Account"),"."),(0,r.kt)("h3",{id:"uploading-lsp3-metadata-to-ipfs"},"Uploading LSP3 metadata to IPFS"),(0,r.kt)("p",null,"You can upload your LSP3 metadata before deploying a Universal Profile using the ",(0,r.kt)("inlineCode",{parentName:"p"},"uploadMetaData()")," method. The function uses the same ",(0,r.kt)("a",{parentName:"p",href:"./universal-profile#adding-lsp3-metadata"},(0,r.kt)("inlineCode",{parentName:"a"},"lsp3Profile")," object schema")," defined above when deploying a Universal Profile. Returns an object containing the IPFS upload location of your metadata and your ",(0,r.kt)("inlineCode",{parentName:"p"},"lsp3Metdata")," as a javascript object."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"await myLSPFactory.UniversalProfile.uploadMetaData(lsp3Profile [, options]);\n")),(0,r.kt)("p",null,"To upload using a custom IPFS gateway, pass the ",(0,r.kt)("inlineCode",{parentName:"p"},"options")," object. The field is the same ",(0,r.kt)("inlineCode",{parentName:"p"},"options")," object used when deploying a Universal Profile. ",(0,r.kt)("a",{parentName:"p",href:"./universal-profile#ipfs-upload-options"},"Read more"),"."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"uploadMetaData()")," function is available as a static or non-static method to be called without instantiating an ",(0,r.kt)("inlineCode",{parentName:"p"},"LSPFactory")," object."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Calling uploadMetaData on an LSPFactory instance"',title:'"Calling',uploadMetaData:!0,on:!0,an:!0,LSPFactory:!0,'instance"':!0},"await myLSPFactory.UniversalProfile.uploadMetaData(myLSP3MetaData);\n\n> {\n  hash: '0x1234...',\n  hashFunction: 'keccak256(utf8)',\n  url: 'https://ipfs.lukso.network/ipfs/QmPzUfdKhY6vfcLNDnitwKanpm5GqjYSmw9todNVmi4bqy',\n  json: {\n    LSP3Profile: {\n      name: \"My Universal Profile\",\n      description: \"My Cool Universal Profile\",\n      ...\n    }\n  }\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Calling uploadMetaData on the uninstantiated class"',title:'"Calling',uploadMetaData:!0,on:!0,the:!0,uninstantiated:!0,'class"':!0},"await UniversalProfile.uploadMetaData(myLSP3MetaData);\n\n> // same as above\n")),(0,r.kt)("h2",{id:"deployment-configuration"},"Deployment Configuration"),(0,r.kt)("p",null,"A Universal Profile is composed of three smart contracts. ",(0,r.kt)("a",{parentName:"p",href:"../../../standards/universal-profile/lsp0-erc725account"},"LSP0 ERC725 Account"),", ",(0,r.kt)("a",{parentName:"p",href:"../../../standards/universal-profile/lsp6-key-manager"},"LSP6 Key Manager"),", and ",(0,r.kt)("a",{parentName:"p",href:"/standards/generic-standards/lsp1-universal-receiver"},"LSP1-UniversalReceiver"),".\nWhen deploying a Universal Profile, you can configure how developers should deploy these contracts inside the ",(0,r.kt)("inlineCode",{parentName:"p"},"contractDeploymentOptions")," object. Builders can configure each contract separately. The available options are the same for all contracts."),(0,r.kt)("p",null,"Under the ",(0,r.kt)("inlineCode",{parentName:"p"},"version")," key developers can pass a ",(0,r.kt)("a",{parentName:"p",href:"./universal-profile#contract-versions"},"version number"),", ",(0,r.kt)("a",{parentName:"p",href:"./universal-profile#deploying-custom-bytecode"},"custom bytecode")," or a ",(0,r.kt)("a",{parentName:"p",href:"./universal-profile#using-a-custom-address"},"base contract address")," to be used during deployment."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"await lspFactory.UniversalProfile.deploy({...}, {\n  ERC725Account: {\n    version: '0.4.1', // Version number\n  },\n  UniversalReceiverDelegate: {\n    version: '0x...' // Custom bytecode\n  },\n  KeyManager: {\n    version: '0x6c1F3Ed2F99054C88897e2f32187ef15c62dC560' // Base contract address\n  }\n})\n")),(0,r.kt)("h3",{id:"proxy-deployment"},"Proxy Deployment"),(0,r.kt)("p",null,"Proxy deployment allows you to determine whether your contract should be deployed as a ",(0,r.kt)("strong",{parentName:"p"},"minimal proxy contract")," based on ",(0,r.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-1167"},"EIP1167")," or an entire contract with a constructor."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"lspFactory.UniversalProfile.deploy({...}, {\n  ERC725Account: {\n    deployProxy: false,\n  },\n})\n")),(0,r.kt)("p",null,"A proxy contract is a lightweight contract that inherits its logic by referencing the address of a contract already deployed on the blockchain. Inheriting allows cheaper deployment of Universal Profiles because only the proxy contract needs to be deployed."),(0,r.kt)("p",null,"LSPFactory stores base contract addresses inside the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/tools-lsp-factory/blob/main/src/versions.json"},"version file"),"."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The function will use the latest available base contract version if no version is specified in the version parameter.\nLSPFactory stores base contract addresses for different versions ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/tools-lsp-factory/blob/main/src/versions.json"},"internally"),"."))),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"The property ",(0,r.kt)("inlineCode",{parentName:"li"},"deployProxy")," defaults to ",(0,r.kt)("inlineCode",{parentName:"li"},"true")," for ",(0,r.kt)("inlineCode",{parentName:"li"},"ERC725Account")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"LSP6KeyManager")),(0,r.kt)("li",{parentName:"ul"},"The property ",(0,r.kt)("inlineCode",{parentName:"li"},"deployProxy")," defaults to ",(0,r.kt)("inlineCode",{parentName:"li"},"false")," for ",(0,r.kt)("inlineCode",{parentName:"li"},"UniversalReceiverDelegate"),".")))),(0,r.kt)("p",null,"When using proxy deployment, LSPFactory will check that there is some bytecode deployed at the base contract address before deploying. A new base contract will be deployed and referenced in the proxy contract if there is none. This process is helpful when using LSPFactory on a local development network like Hardhat, where there will be no pre-deployed base contracts."),(0,r.kt)("h4",{id:"universal-receiver-delegate-proxy-deployment"},"Universal Receiver Delegate Proxy Deployment"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"UniversalReceiverDelegate")," is a logic contract that writes to the Universal Profile when it receives some asset. This operation is not specific to any particular Universal Profile, so developers can use the same ",(0,r.kt)("inlineCode",{parentName:"p"},"UniversalReceiverDelegate")," contract for multiple different Universal Profile deployments."),(0,r.kt)("p",null,"By default, LSPFactory will use the latest available version of the ",(0,r.kt)("inlineCode",{parentName:"p"},"UniversalReceiverDelegate")," version stored in the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/tools-lsp-factory/blob/main/src/versions.json"},"version file"),". This address is used directly on the Universal Profile and is given the ",(0,r.kt)("inlineCode",{parentName:"p"},"SETDATA")," LSP6 permission."),(0,r.kt)("p",null,"Reusing the ",(0,r.kt)("inlineCode",{parentName:"p"},"UniversalReceiverDelegate")," address means that no ",(0,r.kt)("inlineCode",{parentName:"p"},"UniversalReceiverDelegate")," contract needs to be deployed when deploying a Universal Profile which further reduces the gas cost of Universal Profile deployment."),(0,r.kt)("p",null,"To specify that your ",(0,r.kt)("inlineCode",{parentName:"p"},"UniversalReceiverDelegate")," contract should use proxy deployment, set the property ",(0,r.kt)("inlineCode",{parentName:"p"},"deployProxy")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),". If no base contract address is specified in the ",(0,r.kt)("inlineCode",{parentName:"p"},"version")," parameter a new ",(0,r.kt)("inlineCode",{parentName:"p"},"UniversalReceiverDelegate")," base contract will be deployed."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"lspFactory.UniversalProfile.deploy({...}, {\n    UniversalReceiverDelegate: {\n        deployProxy: true,\n        version: '0x00b1d454Eb5d917253FD6cb4D5560dEC30b0960c',\n    },\n})\n")),(0,r.kt)("h3",{id:"using-a-custom-address"},"Using a Custom Address"),(0,r.kt)("p",null,"When using proxy deployment you can specify the base contract address by passing the ",(0,r.kt)("inlineCode",{parentName:"p"},"version")," parameter. This allows you to deploy a specific contract implementation by using a custom base contract you have deployed."),(0,r.kt)("p",null,"Any base contract address that developers pass here must adhere to the relevant LSP contract standard it is being used for."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Deploying a Universal Profile using a custom ERC725Account base contract implementation"',title:'"Deploying',a:!0,Universal:!0,Profile:!0,using:!0,custom:!0,ERC725Account:!0,base:!0,contract:!0,'implementation"':!0},"lspFactory.UniversalProfile.deploy({...}, {\n    ERC725Account: {\n        version: '0x00b1d454Eb5d917253FD6cb4D5560dEC30b0960c',\n    },\n})\n")),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"UniversalReceiverDelegate")," contract does not use proxy deployment by default. If an address is passed to the ",(0,r.kt)("inlineCode",{parentName:"p"},"UniversalReceiverDelegate")," ",(0,r.kt)("inlineCode",{parentName:"p"},"version")," parameter and ",(0,r.kt)("inlineCode",{parentName:"p"},"deployProxy")," is not set to ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),", LSPFactory will set the provided address directly on the ERC725Account as the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-0-ERC725Account.md#lsp1universalreceiverdelegate"},"LSP1UniversalReceiverDelegate key")," and given the ",(0,r.kt)("inlineCode",{parentName:"p"},"SETDATA")," LSP6 permission. You can read more in the ",(0,r.kt)("a",{parentName:"p",href:"./universal-profile#universal-receiver-delegate-proxy-deployment"},"section above"),"."))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Using a custom UniversalReceiverDelegate address"',title:'"Using',a:!0,custom:!0,UniversalReceiverDelegate:!0,'address"':!0},"lspFactory.UniversalProfile.deploy({...}, {\n    UniversalReceiverDelegate: {\n        version: '0x00b1d454Eb5d917253FD6cb4D5560dEC30b0960c',\n        deployProxy: false\n    },\n})\n")),(0,r.kt)("h3",{id:"contract-versions"},"Contract Versions"),(0,r.kt)("p",null,"LSPFactory stores the addresses of different base contract versions ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/tools-lsp-factory/blob/main/src/versions.json"},"internally"),". By specifying a ",(0,r.kt)("inlineCode",{parentName:"p"},"version")," number, developers can specify which base contract implementation should be used during deployment."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"version")," of all three contracts can be set at once by passing the global version parameter. The version can also be set per contract, which will take precedence over the global parameter."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Deploying a Universal Profile with all contracts set to version 0.5.0"',title:'"Deploying',a:!0,Universal:!0,Profile:!0,with:!0,all:!0,contracts:!0,set:!0,to:!0,version:!0,'0.5.0"':!0},"await lspFactory.UniversalProfile.deploy({...}, {\n    version: '0.5.0'\n});\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Deploying a Universal Profile at version 0.5.0, with a KeyManager set to version to 0.4.0"',title:'"Deploying',a:!0,Universal:!0,Profile:!0,at:!0,version:!0,"0.5.0,":!0,with:!0,KeyManager:!0,set:!0,to:!0,'0.4.0"':!0},"await lspFactory.UniversalProfile.deploy({...}, {\n    version: '0.5.0',\n    KeyManager: {\n      version: '0.4.0'\n    }\n});\n")),(0,r.kt)("h3",{id:"deploying-custom-bytecode"},"Deploying Custom Bytecode"),(0,r.kt)("p",null,"When deploying a Universal Profile, you can use your custom contract implementation by passing the compiled creation bytecode of a contract you have written as the ",(0,r.kt)("inlineCode",{parentName:"p"},"version")," parameter. The ",(0,r.kt)("inlineCode",{parentName:"p"},"bytecode")," parameter can be the instantiation bytecode of a custom contract implementation you have written according to your use case. The implementation must meet the relevant LSP standard requirements."),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The custom bytecode will be deployed and used as part of the Universal Profile. Contracts deployed from custom bytecode will not use any proxy contract deployment."))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Deploying a Universal Profile with a custom KeyManager implementation"',title:'"Deploying',a:!0,Universal:!0,Profile:!0,with:!0,custom:!0,KeyManager:!0,'implementation"':!0},"lspFactory.UniversalProfile.deploy({...}, {\n    KeyManager: {\n      version: '0x...'\n    }\n});\n")),(0,r.kt)("h3",{id:"ipfs-upload-options"},"IPFS Upload Options"),(0,r.kt)("p",null,"You can specify how you want your profile metadata to be uploaded while passing the options object. Here you can set the IPFS gateway where you want the profile's metadata to be uploaded."),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The procedure takes a URL string or an object as defined by the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ipfs/js-ipfs/tree/master/packages/ipfs-http-client#createoptions"},"IPFS-HTTP Client")," library which is used internally to interact with the specified IPFS node."))),(0,r.kt)("p",null,"If a URL is passed and no port is specified, the standard 5001 port will be used."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Passing ipfsGateway URL"',title:'"Passing',ipfsGateway:!0,'URL"':!0},"lspFactory.UniversalProfile.deploy({...}, {\n  ipfsGateway: 'https://ipfs.infura.io:5001'\n})\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Passing ipfsGateway URL string with port set"',title:'"Passing',ipfsGateway:!0,URL:!0,string:!0,with:!0,port:!0,'set"':!0},"lspFactory.UniversalProfile.deploy({...}, {\n  ipfsGateway: 'https://ipfs.infura.io' // No port set. Port 5001 will be used\n})\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Passing ipfsGateway options as an object"',title:'"Passing',ipfsGateway:!0,options:!0,as:!0,an:!0,'object"':!0},"lspFactory.UniversalProfile.deploy({...}, {\n  ipfsGateway: {\n    host: 'ipfs.infura.io',\n    port: 5001,\n    protocol: 'https',\n  }\n})\n")),(0,r.kt)("p",null,"If the ",(0,r.kt)("inlineCode",{parentName:"p"},"ipfsGateway")," parameter is provided, it will override the ",(0,r.kt)("inlineCode",{parentName:"p"},"ipfsGateway")," object passed during the instantiation of the LSPFactory for this function call only."),(0,r.kt)("h3",{id:"reactive-deployment"},"Reactive Deployment"),(0,r.kt)("p",null,"LSPFactory uses ",(0,r.kt)("a",{parentName:"p",href:"https://rxjs.dev/"},"RxJS")," to deploy smart contracts. This can be leveraged for reactive deployment of Universal Profiles. ",(0,r.kt)("a",{parentName:"p",href:"/tools/lsp-factoryjs/getting-started#reactive-deployment"},"Read more here"),"."),(0,r.kt)("p",null,"When ",(0,r.kt)("inlineCode",{parentName:"p"},"deployReactive")," is set to ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),", an ",(0,r.kt)("a",{parentName:"p",href:"https://rxjs.dev/guide/observable"},"RxJS Observable")," will be returned which will emit events as the deployment progresses."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Reactive deployment of a Universal Profile"',title:'"Reactive',deployment:!0,of:!0,a:!0,Universal:!0,'Profile"':!0},"const observable = await lspFactory.UniversalProfile.deploy({...}, {\n  deployReactive: true\n});\n\nobservable.subscribe();\n")),(0,r.kt)("p",null,"The following events will be emitted:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"  {\n  type: 'PROXY_DEPLOYMENT',\n  contractName: 'ERC725Account',\n  status: 'PENDING',\n  transaction: {\n    ...\n  }\n}\n{\n  type: 'PROXY_DEPLOYMENT',\n  contractName: 'ERC725Account',\n  status: 'COMPLETE',\n  contractAddress: '0xa7b2ab323cD2504689637A0b503262A337ab87d6',\n  receipt: {\n    ...\n  }\n}\n{\n  type: 'TRANSACTION',\n  contractName: 'ERC725Account',\n  functionName: 'initialize(address)',\n  status: 'PENDING',\n  transaction: {\n    ...\n  }\n}\n{\n  type: 'TRANSACTION',\n  contractName: 'ERC725Account',\n  functionName: 'initialize(address)',\n  status: 'COMPLETE',\n  receipt: {\n    ...\n  }\n}\n{\n  type: 'PROXY_DEPLOYMENT',\n  contractName: 'KeyManager',\n  status: 'PENDING',\n  transaction: {\n    ...\n  }\n}\n{\n  type: 'PROXY_DEPLOYMENT',\n  contractName: 'KeyManager',\n  status: 'COMPLETE',\n  contractAddress: '0x8fE3f0fd1bc2aCDA6cf3712Cd9C7858B8195DC8E',\n  receipt: {\n    ...\n  }\n}\n{\n  type: 'TRANSACTION',\n  contractName: 'KeyManager',\n  functionName: 'initialize(address)',\n  status: 'PENDING',\n  transaction: {\n    ...\n  }\n}\n{\n  type: 'TRANSACTION',\n  contractName: 'KeyManager',\n  functionName: 'initialize(address)',\n  status: 'COMPLETE',\n  receipt: {\n    ...\n  }\n}\n{\n  type: 'TRANSACTION',\n  contractName: 'ERC725Account',\n  functionName: 'setData(bytes32[],bytes[])',\n  status: 'PENDING',\n  transaction: {\n    ...\n  }\n}\n{\n  type: 'TRANSACTION',\n  contractName: 'ERC725Account',\n  functionName: 'setData(bytes32[],bytes[])',\n  status: 'COMPLETE',\n  receipt: {\n    ...\n  }\n}\n{\n  type: 'TRANSACTION',\n  status: 'PENDING',\n  contractName: 'ERC725Account',\n  functionName: 'transferOwnership(address)',\n  transaction: {\n    ...\n  }\n}\n{\n  type: 'TRANSACTION',\n  contractName: 'ERC725Account',\n  functionName: 'transferOwnership(address)',\n  status: 'COMPLETE',\n  receipt: {\n    ...\n  }\n}\n{\n  ERC725Account: {\n    address: '0xa7b2ab323cD2504689637A0b503262A337ab87d6',\n    receipt: {\n      ...\n    }\n  },\n  KeyManager: {\n    address: '0x8fE3f0fd1bc2aCDA6cf3712Cd9C7858B8195DC8E',\n    receipt: {\n      ...\n    }\n  }\n}\n")))}u.isMDXComponent=!0}}]);