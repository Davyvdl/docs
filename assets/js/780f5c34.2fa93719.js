"use strict";(self.webpackChunklukso_docs=self.webpackChunklukso_docs||[]).push([[8292],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(n),m=r,h=u["".concat(s,".").concat(m)]||u[m]||d[m]||o;return n?a.createElement(h,i(i({ref:t},c),{},{components:n})):a.createElement(h,i({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},3551:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return c},default:function(){return u}});var a=n(3117),r=n(102),o=(n(7294),n(3905)),i=["components"],l={sidebar_label:"Create a Universal Profile",sidebar_position:1.1},s="Create a Universal Profile",p={unversionedId:"guides/universal-profile/create-profile",id:"guides/universal-profile/create-profile",title:"Create a Universal Profile",description:"In this guide, we will learn how to:",source:"@site/docs/guides/universal-profile/01-create-profile.md",sourceDirName:"guides/universal-profile",slug:"/guides/universal-profile/create-profile",permalink:"/guides/universal-profile/create-profile",editUrl:"https://github.com/lukso-network/docs/tree/main/docs/guides/universal-profile/01-create-profile.md",tags:[],version:"current",sidebarPosition:1.1,frontMatter:{sidebar_label:"Create a Universal Profile",sidebar_position:1.1},sidebar:"guidesSidebar",next:{title:"Edit a Universal Profile",permalink:"/guides/universal-profile/edit-profile"}},c=[{value:"Introduction",id:"introduction",children:[{value:"Owned Contracts",id:"owned-contracts",children:[],level:3},{value:"Contracts Overview",id:"contracts-overview",children:[],level:3}],level:2},{value:"Setup",id:"setup",children:[],level:2},{value:"Step 1 - Create an EOA",id:"step-1---create-an-eoa",children:[],level:2},{value:"Step 2 - Get some LYX",id:"step-2---get-some-lyx",children:[],level:2},{value:"Step 3 - Create our Universal Profile",id:"step-3---create-our-universal-profile",children:[{value:"3.1 - Load our EOA",id:"31---load-our-eoa",children:[],level:3},{value:"3.2 - Setup the lsp-factory.js",id:"32---setup-the-lsp-factoryjs",children:[],level:3},{value:"3.3 - Deploy our Universal Profile",id:"33---deploy-our-universal-profile",children:[],level:3}],level:2},{value:"Visualize our new Universal Profile",id:"visualize-our-new-universal-profile",children:[],level:2},{value:"Congratulations \ud83e\udd73",id:"congratulations-",children:[],level:2},{value:"Final Code",id:"final-code",children:[],level:2}],d={toc:c};function u(e){var t=e.components,l=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"create-a-universal-profile"},"Create a Universal Profile"),(0,o.kt)("p",null,"In this guide, we will learn how to:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"create a Universal Profile."),(0,o.kt)("li",{parentName:"ul"},"see our new Universal Profile on ",(0,o.kt)("a",{parentName:"li",href:"https://universalprofile.cloud"},"universalprofile.cloud"),".")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Universal Profile example on universalprofile.cloud",src:n(1973).Z})),(0,o.kt)("p",null,"We will use our tool ",(0,o.kt)("a",{parentName:"p",href:"/tools/lsp-factoryjs/deployment/universal-profile"},"lsp-factory.js")," to create a Universal Profile in ",(0,o.kt)("strong",{parentName:"p"},"less than 50 lines of code!")),(0,o.kt)("h2",{id:"introduction"},"Introduction"),(0,o.kt)("h3",{id:"owned-contracts"},"Owned Contracts"),(0,o.kt)("p",null,"A Universal Profile is an ",(0,o.kt)("strong",{parentName:"p"},"owned")," smart contract. This means it is a contract that has an ",(0,o.kt)("strong",{parentName:"p"},"owner"),"."),(0,o.kt)("p",null,"The Contract's owner is a blockchain ",(0,o.kt)("inlineCode",{parentName:"p"},"address")," that can represent anything, such as:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"an Externally Owned Account (EOA), or many EOAs."),(0,o.kt)("li",{parentName:"ul"},"a multi-sig wallet."),(0,o.kt)("li",{parentName:"ul"},"an other smart contract that can represent anything (a DAO, a DEX, etc...).")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Universal Profile smart contract: ownership diagram",src:n(865).Z})),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"For more details, see ",(0,o.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-173"},"EIP-173: Contract Ownership Standard"))),(0,o.kt)("p",null,"With the ",(0,o.kt)("strong",{parentName:"p"},"Ownable")," design pattern, a contract can be designed with ",(0,o.kt)("em",{parentName:"p"},"functionalities that can only be performed by the owner"),". This gives the contract owner more control and privileges."),(0,o.kt)("p",null,"In the context of Universal Profile, ",(0,o.kt)("em",{parentName:"p"},"reading data from the contract storage can be done by anyone"),". But ",(0,o.kt)("strong",{parentName:"p"},"only the owner can"),":"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"setData")," = add, edit or remove data from the ",(0,o.kt)("a",{parentName:"li",href:"../../standards/universal-profile/lsp0-erc725account#erc725y---generic-key-value-store"},"ERC725Y")," storage."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"execute")," = calling other contracts, doing LYX transfers, create other contracts (see ",(0,o.kt)("a",{parentName:"li",href:"../../standards/universal-profile/lsp0-erc725account#erc725x---generic-executor"},"ERC725X")," executor)")),(0,o.kt)("p",null,"In this guide, our Universal Profile's owner will be a contract called a ",(0,o.kt)("strong",{parentName:"p"},"Key Manager"),". The ",(0,o.kt)("a",{parentName:"p",href:"/standards/smart-contracts/lsp6-key-manager"},"Key Manager")," is a smart contract that enables to give specific permissions (",(0,o.kt)("em",{parentName:"p"},"eg: ")," transferring LYX on behalf of the Universal Profile) to ",(0,o.kt)("inlineCode",{parentName:"p"},"address"),"es, so that they can interact on the Universal Profile."),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Learn More")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"You can implement any complex ownership structure (and fine-grained control) on top of Universal Profiles. This includes having a UP owned and controlled by:"),(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"one or multiple EOAs"),(0,o.kt)("li",{parentName:"ul"},"one or multiple smart contracts"),(0,o.kt)("li",{parentName:"ul"},"a mixture of both")),(0,o.kt)("p",{parentName:"div"},"For more details, see ",(0,o.kt)("a",{parentName:"p",href:"/standards/universal-profile/lsp6-key-manager"},"LSP6 - Key Manager Standard")))),(0,o.kt)("h3",{id:"contracts-overview"},"Contracts Overview"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Universal Profile: overview of deployed contracts",src:n(2542).Z})),(0,o.kt)("p",null,"Our tool ",(0,o.kt)("a",{parentName:"p",href:"/tools/lsp-factoryjs/introduction/getting-started"},"lsp-factory.js")," will help us to deploy + setup easily a Universal Profile, with just few lines of code."),(0,o.kt)("p",null,"Under the hood, lsp-factory.js performs the following:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"deploys all the necessary contracts:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/standards/universal-profile/lsp3-universal-profile-metadata"},"Universal Profile")," (UP) - core smart contract that represents a Universal Profile."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/standards/universal-profile/lsp1-universal-receiver-delegate"},"Universal Receiver Delegate")," (URD) - contract that react on events, such as tokens received or transferred."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/standards/universal-profile/lsp6-key-manager"},"Key Manager")," (KM) - contract that acts as ",(0,o.kt)("strong",{parentName:"li"},"owner of a Universal Profile"),", to enable other address to interact with the UP."))),(0,o.kt)("li",{parentName:"ol"},"link the URD with the deployed UP account + set its permissions."),(0,o.kt)("li",{parentName:"ol"},"set all the permissions for an EOA address, so that it can acts as the UP admin.")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"\u27a1\ufe0f ","\xa0"," ",(0,o.kt)("a",{parentName:"p",href:"../../tools/lsp-factoryjs/introduction/getting-started"},"See our lsp-factory.js docs for more details"))),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Learn More")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"The figure above is our default setup for Universal Profile. However, ",(0,o.kt)("em",{parentName:"p"},"using a Key Manager as an owner is optional"),".",(0,o.kt)("br",null),"\nYou can create a Universal Profile without a Key Manager (or a Universal Receiver Delegate linked to it)."))),(0,o.kt)("h2",{id:"setup"},"Setup"),(0,o.kt)("p",null,"Before to get started, we are going to create a new project folder. This is where we will write all the Javascript code of this tutorial."),(0,o.kt)("p",null,"Open a terminal, create a new project folder, and go inside it."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"mkdir myUP\ncd myUP\n")),(0,o.kt)("p",null,"We then have to install all the tools and libraries that we will need for this tutorial."),(0,o.kt)("p",null,"Copy and paste the command below in your terminal to install these as npm dependencies."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"npm install web3 @lukso/lsp-factory.js --save\n")),(0,o.kt)("h2",{id:"step-1---create-an-eoa"},"Step 1 - Create an EOA"),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Notice")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"This step should be done in a ",(0,o.kt)("strong",{parentName:"p"},"temporary file"),"."))),(0,o.kt)("p",null,"As described in the introduction, our first step is to create an EOA that will be used to control our Universal Profile."),(0,o.kt)("p",null,"We can easily create an EOA using the ",(0,o.kt)("a",{parentName:"p",href:"https://web3js.readthedocs.io/en/v1.5.2/web3-eth-accounts.html#create"},(0,o.kt)("inlineCode",{parentName:"a"},"web3.eth.accounts.create()"))," method from web3.js."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Instructions:")," ",(0,o.kt)("strong",{parentName:"p"},"create a temporary file")," and add the code snippet below. It will generate an object that contains:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"a private key (32 bytes / 64 characters long)."),(0,o.kt)("li",{parentName:"ul"},"an address (20 bytes / 40 characters long)."),(0,o.kt)("li",{parentName:"ul"},"some singing methods like ",(0,o.kt)("inlineCode",{parentName:"li"},"sign"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="create-eoa.js (temporary file)"',title:'"create-eoa.js',"(temporary":!0,'file)"':!0},'const Web3 = require(\'web3\');\nconst web3 = new Web3();\n\nconst myEOA = web3.eth.accounts.create();\nconsole.log(myEOA);\n// output: {\n//     address: "0x...",\n//     privateKey: "0x...",\n//     signTransaction: function(tx){...},\n//     sign: function(data){...},\n//     encrypt: function(password){...}\n// }\n')),(0,o.kt)("p",null,"Run the script above with Node.js to generate and display your EOA private key + address."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"node create-eoa.js\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"See the ",(0,o.kt)("a",{parentName:"p",href:"https://web3js.readthedocs.io/en/v1.5.2/web3-eth-accounts.html#"},"Web3.js docs")," for more infos on creating an EOA")),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"How to load an EOA?")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"We can easily load our EOA with the private key previously displayed via ",(0,o.kt)("inlineCode",{parentName:"p"},"console.log")," (this is what we will do in Step 3)."),(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"const Web3 = require('web3');\nconst web3 = new Web3();\n\nconst PRIVATE_KEY = '0x...'; // your EOA private key (previously created)\nconst myEOA = web3.eth.accounts.privateKeyToAccount(PRIVATE_KEY);\n")))),(0,o.kt)("h2",{id:"step-2---get-some-lyx"},"Step 2 - Get some LYX"),(0,o.kt)("p",null,"After we have created an EOA that will control our Universal Profile in ",(0,o.kt)("strong",{parentName:"p"},"Step 1"),", we will need to fund our address with some test LYX (the native cryptocurrency of the LUKSO blockchain). You can obtain easily some free test LYX via the ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"http://faucet.l14.lukso.network/"},"L14 Faucet")),"."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Instructions:")," simply visit the faucet website, paste your generated address above in the field and click on ",(0,o.kt)("strong",{parentName:"p"},'"REQUEST 5 LYX"'),"."),(0,o.kt)("p",null,"\u27a1\ufe0f ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"http://faucet.l14.lukso.network/"},"LUKSO L14 Faucet Website"))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"L14 Faucet screenshot",src:n(9075).Z})),(0,o.kt)("p",null,"We will look-up our address' balance in the ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"https://blockscout.com/lukso/l14"},"LUKSO L14 Block Explorer"))," to ensure we have received our test LYX."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Instructions:")," go to the LUKSO L14 Block explorer, and paste your address in the top right field ",(0,o.kt)("em",{parentName:"p"},'"Search by address..."'),". You should see 5 LYX next to the field ",(0,o.kt)("em",{parentName:"p"},'"Balance"'),"."),(0,o.kt)("p",null,"\u27a1\ufe0f ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"https://blockscout.com/lukso/l14"},"LUSKO L14 Block Explorer"))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"LUKSO L14 Network Block Explorer (screenshot)",src:n(8208).Z})),(0,o.kt)("h2",{id:"step-3---create-our-universal-profile"},"Step 3 - Create our Universal Profile"),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Notice")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"The rest of this tutorial should be done in a ",(0,o.kt)("strong",{parentName:"p"},"new file (",(0,o.kt)("inlineCode",{parentName:"strong"},"main.js"),")"),"."))),(0,o.kt)("p",null,"Now that we have created our EOA, we are ready to create our first Universal Profile."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Instructions:")," create a ",(0,o.kt)("strong",{parentName:"p"},"new file"),": ",(0,o.kt)("inlineCode",{parentName:"p"},"main.js")," (it will contain all the main runtime script to create our Universal Profile)."),(0,o.kt)("h3",{id:"31---load-our-eoa"},"3.1 - Load our EOA"),(0,o.kt)("p",null,"We will start by loading our EOA in our main JS file, so that we can use it to deploy our Universal Profile."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Instructions:")," import the private key previously created in ",(0,o.kt)("strong",{parentName:"p"},"step 1"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="main.js"',title:'"main.js"'},"const Web3 = require('web3');\nconst web3 = new Web3();\n\nconst PRIVATE_KEY = '0x...'; // your EOA private key (previously created)\nconst myEOA = web3.eth.accounts.privateKeyToAccount(PRIVATE_KEY);\n// {\n//     address: \"0x...\",\n//     privateKey: \"0x...\",\n//     signTransaction: function(tx){...},\n//     sign: function(data){...},\n//     encrypt: function(password){...}\n// }\n")),(0,o.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"Never expose your private key!")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Your private key is what enables you to control your EOA. Therefore, it should NEVER be exposed."),(0,o.kt)("p",{parentName:"div"},"For simplicity in this tutorial, we load the EOA by using a hardcoded private key (as a literal string).\nHowever, your private key should never be hardcoded in your code."),(0,o.kt)("p",{parentName:"div"},"\u26a0\ufe0f ",(0,o.kt)("strong",{parentName:"p"},"ALWAYS make sure that your private key is stored securely"),", and never exposed."))),(0,o.kt)("h3",{id:"32---setup-the-lsp-factoryjs"},"3.2 - Setup the lsp-factory.js"),(0,o.kt)("p",null,"The next step is to import + setup our lsp-factory.js tool. It will give us access to a ",(0,o.kt)("inlineCode",{parentName:"p"},".deploy(...)")," method that we will use to create our Universal Profile."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Instructions:")," use the code snippet below to setup the lsp-factory.js."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="main.js"',title:'"main.js"'},"const { LSPFactory } = require('@lukso/lsp-factory.js');\n\n// Step 3.1 - Load our EOA\nconst PRIVATE_KEY = '0x...'; // add the private key of your EOA here (created in Step 1)\nconst myEOA = web3.eth.accounts.privateKeyToAccount(PRIVATE_KEY);\n\n// Create an instance of lsp-factory.js\nconst lspFactory = new LSPFactory(\n  // We initialize the LSPFactory with the L14 chain RPC endpoint\n  'https://rpc.l14.lukso.network',\n  {\n    // L14 chain ID\n    chainId: 22,\n    // We use your EOA's private key, to specify the EOA address that:\n    //   1) will deploy the UP\n    //   2) will be the UP owner\n    deployKey: PRIVATE_KEY, // or myEOA.privateKey\n  },\n);\n// LSPFactory {\n//   options: {\n//     ...\n//   },\n//   DigitalAsset: DigitalAsset {\n//       ...\n//   },\n//   LSP3UniversalProfile: LSP3UniversalProfile {\n//       ...\n//   },\n//   ProxyDeployer: ProxyDeployer {\n//       ...\n//   }\n// }\n")),(0,o.kt)("h3",{id:"33---deploy-our-universal-profile"},"3.3 - Deploy our Universal Profile"),(0,o.kt)("p",null,"The final step is to deploy our UP via ",(0,o.kt)("inlineCode",{parentName:"p"},"LSP3UniversalProfile.deploy(...)"),". This method from the lsp-factory.js will deploy the 3 main contracts shown in the ",(0,o.kt)("a",{parentName:"p",href:"#contracts-overview"},"architecture diagram")," above (see ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"#contracts-overview"},"Contracts Overview")),")."),(0,o.kt)("p",null,"This ",(0,o.kt)("inlineCode",{parentName:"p"},".deploy(...)")," function takes an object as argument, that must contain 2 elements:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"controllingAccounts"),": the EOA address(es) that we will use to control our UP."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"lsp3Profile"),": an object that represents your ",(0,o.kt)("inlineCode",{parentName:"li"},"LSP3Profile")," Metadata.")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"We keep our ",(0,o.kt)("inlineCode",{parentName:"p"},"LSP3Profile")," metadata simple in this tutorial. But you can easily add more details about your UP in this object, like an original ",(0,o.kt)("inlineCode",{parentName:"p"},"name"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"description"),", or any custom tags in the ",(0,o.kt)("inlineCode",{parentName:"p"},"tags")," array.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="main.js"',title:'"main.js"'},"const { LSPFactory } = require('@lukso/lsp-factory.js');\n\n// Step 3.1 - Load our EOA\n// ...\n\n// Step 3.2 - Setup the lsp-factory\n// ...\n\n// Step 3.3 - Deploy our Universal Profile\n// (put this code inside an `async` function to run the `deploy` method)\nasync function createUniversalProfile() {\n  const deployedContracts = await lspFactory.LSP3UniversalProfile.deploy({\n    controllingAccounts: [myEOA.address], // our EOA will be controlling our UP\n    lsp3Profile: {\n      name: 'My Universal Profile',\n      description: 'My Cool Universal Profile',\n      tags: ['Public Profile'],\n      links: [\n        {\n          title: 'My Website',\n          url: 'http://my-website.com',\n        },\n      ],\n    },\n  });\n\n  return deployedContracts;\n}\n\ncreateUniversalProfile();\n// {\n//   ERC725Account: {\n//     address: '0x...',\n//     receipt: {\n//       to: null,\n//       from: '0x...',\n//       contractAddress: '0x...',\n//       transactionIndex: 0,\n//       gasUsed: [BigNumber],\n//       logsBloom: '0x...',\n//       blockHash: '0x...',\n//       transactionHash: '0x...',\n//       logs: [],\n//       blockNumber: ...,\n//       confirmations: 1,\n//       cumulativeGasUsed: [BigNumber],\n//       status: 1,\n//       type: 0,\n//       byzantium: true,\n//       events: []\n//     }\n//   },\n//   KeyManager: {\n//     address: '0x646e989A0840CE4c3bac39d535Af736db2371107',\n//     receipt: {\n//       ...\n//     }\n//   },\n//   UniversalReceiverDelegate: {\n//     address: '0xc2f51A2891E7c78541a2CADEff9146F1E0E13E2a',\n//     receipt: {\n//       ...\n//     }\n//   }\n// }\n")),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Learn more")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},(0,o.kt)("strong",{parentName:"p"},"Adding more details")," to our Universal Profile (",(0,o.kt)("em",{parentName:"p"},"e.g.: links, profile images, background images..."),") will be ",(0,o.kt)("strong",{parentName:"p"},"our next tutorial!")," \ud83c\udfa8"))),(0,o.kt)("h2",{id:"visualize-our-new-universal-profile"},"Visualize our new Universal Profile"),(0,o.kt)("p",null,"If the deployment was successful, the address of our newly created Universal Profile can be accessed from the returned value."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="main.js"',title:'"main.js"'},"async function createUniversalProfile() {\n  const deployedContracts = await lspFactory.LSP3UniversalProfile.deploy({\n    // deployment details omitted for brevity\n    // see Step 3.3 above\n  });\n\n  const myUPAddress = deployedContracts.ERC725Account.address;\n  console.log('my Universal Profile address: ', myUPAddress);\n  // my Universal Profile address: 0x...\n\n  return deployedContracts;\n}\n\ncreateUniversalProfile();\n")),(0,o.kt)("p",null,"We can now visualize our UP on the ",(0,o.kt)("a",{parentName:"p",href:"https://universalprofile.cloud"},"universalprofile.cloud")," website, by adding the address of the deployed UP in the the url, after the ",(0,o.kt)("inlineCode",{parentName:"p"},"/")," (slash), as follow:"),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},(0,o.kt)("a",{parentName:"em",href:"https://universalprofile.cloud/%7Byour-up-address%7D"},"https://universalprofile.cloud/{your-up-address}"))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Universal Profile example on universalprofile.cloud",src:n(1973).Z})),(0,o.kt)("p",null,"You can also see on the LUKSO L14 Block explorer the contracts that have been created by the lsp-factory.js:"),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},(0,o.kt)("a",{parentName:"em",href:"https://blockscout.com/lukso/l14/address/%7Byour-eoa-address%7D/transactions"},"https://blockscout.com/lukso/l14/address/{your-eoa-address}/transactions"))),(0,o.kt)("p",null,"The figure below describes each transaction performed by the lsp-factory.js, and map them to the architecture diagram shown at the beginning of this guide, in the ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"#contracts-overview"},"Contracts Overview"))," section."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"lsp-factory.js: contract deployed on L14 and transactions flow",src:n(5494).Z})),(0,o.kt)("h2",{id:"congratulations-"},"Congratulations \ud83e\udd73"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"You have successfully created your first Universal Profile!")),(0,o.kt)("p",null,"\u27a1\ufe0f Go to the next tutorial to learn ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"/guides/universal-profile/edit-profile"},"How to add a profile picture to your Universal Profile + edit your profile infos."))),(0,o.kt)("p",null,"\u2b07\ufe0f Look a the full code snippet below to help you debugging."),(0,o.kt)("h2",{id:"final-code"},"Final Code"),(0,o.kt)("p",null,"Below is the complete code snippet of this guide, with all the steps compiled together."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="create-eoa.js (temporary file) - run this code once to generate an EOA"',title:'"create-eoa.js',"(temporary":!0,"file)":!0,"-":!0,run:!0,this:!0,code:!0,once:!0,to:!0,generate:!0,an:!0,'EOA"':!0},'const Web3 = require(\'web3\');\nconst web3 = new Web3();\n\nconst myEOA = web3.eth.accounts.create();\nconsole.log(myEOA);\n// output: {\n//     address: "0x...",\n//     privateKey: "0x...",\n//     signTransaction: function(tx){...},\n//     sign: function(data){...},\n//     encrypt: function(password){...}\n// }\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="main.js"',title:'"main.js"'},"const Web3 = require('web3');\nconst { LSPFactory } = require('@lukso/lsp-factory.js');\n\nconst web3 = new Web3();\n\n// Step 3.1 - Load our Externally Owned Account (EOA)\nconst PRIVATE_KEY = '0x...'; // add the private key of your EOA here (created in Step 1)\nconst myEOA = web3.eth.accounts.privateKeyToAccount(PRIVATE_KEY);\n\n// Step 3.2 - Setup the lsp-factory\nconst lspFactory = new LSPFactory(\n  // L14 chain RPC endpoint\n  'https://rpc.l14.lukso.network',\n  {\n    // L14s chain Id\n    chainId: 22,\n    // We use our EOA's private key, to specify the EOA address that:\n    //   1) will deploy the UP\n    //   2) will be the UP owner\n    deployKey: PRIVATE_KEY, // or myEOA.privateKey\n  },\n);\n\n// Step 3.3 - Deploy our Universal Profile\nasync function createUniversalProfile() {\n  const deployedContracts = await lspFactory.LSP3UniversalProfile.deploy({\n    controllingAccounts: [myEOA.address], // our EOA will be controlling our UP\n    lsp3Profile: {\n      name: 'My Universal Profile',\n      description: 'My Cool Universal Profile',\n      tags: ['Public Profile'],\n      links: [\n        {\n          title: 'My Website',\n          url: 'http://my-website.com',\n        },\n      ],\n    },\n  });\n\n  const myUPAddress = deployedContracts.ERC725Account.address;\n  console.log('my Universal Profile address: ', myUPAddress);\n\n  return deployedContracts;\n}\n\ncreateUniversalProfile();\n")))}u.isMDXComponent=!0},9075:function(e,t,n){t.Z=n.p+"assets/images/L14-faucet-d97230cc99f1c1d4e2ff8b6d10857f93.png"},8208:function(e,t,n){t.Z=n.p+"assets/images/l14-explorer-cdcdf07e35e4f98915d18601c8187634.png"},5494:function(e,t,n){t.Z=n.p+"assets/images/lsp-factory-deployments-explained-98b7b836b45ba011ae50578f70efdd33.jpeg"},1973:function(e,t,n){t.Z=n.p+"assets/images/my-up-6aea31ee2648b362693d8f58f4818fc5.png"},2542:function(e,t,n){t.Z=n.p+"assets/images/universal-profile-overview-68b414973567b489be008e994d39dab7.jpeg"},865:function(e,t,n){t.Z=n.p+"assets/images/universal-profile-ownership-ca7ad08545c5b3ef995ff1eb4d11982b.jpeg"}}]);