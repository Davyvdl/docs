"use strict";(self.webpackChunklukso_docs=self.webpackChunklukso_docs||[]).push([[2023],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=u(n),m=r,k=c["".concat(s,".").concat(m)]||c[m]||d[m]||o;return n?a.createElement(k,i(i({ref:t},p),{},{components:n})):a.createElement(k,i({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var u=2;u<o;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},6400:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var a=n(7462),r=(n(7294),n(3905));const o={title:"Running a node",sidebar_position:2},i="Running a node",l={unversionedId:"networks/mainnet/running-a-node",id:"networks/mainnet/running-a-node",title:"Running a node",description:"\u26a0\ufe0f The LUKSO mainnet will start on Tuesday, 23rd May 2023 1500 GMT (+ Genesis Delay -> 4:20pm GMT).",source:"@site/docs/networks/mainnet/running-a-node.md",sourceDirName:"networks/mainnet",slug:"/networks/mainnet/running-a-node",permalink:"/networks/mainnet/running-a-node",draft:!1,editUrl:"https://github.com/lukso-network/docs/tree/main/docs/networks/mainnet/running-a-node.md",tags:[],version:"current",lastUpdatedAt:1684490705,formattedLastUpdatedAt:"May 19, 2023",sidebarPosition:2,frontMatter:{title:"Running a node",sidebar_position:2},sidebar:"networksSidebar",previous:{title:"Network parameters",permalink:"/networks/mainnet/parameters"},next:{title:"Network parameters",permalink:"/networks/testnet/parameters"}},s={},u=[{value:"System Requirements",id:"system-requirements",level:2},{value:"Ports",id:"ports",level:2},{value:"The Network start process",id:"the-network-start-process",level:2},{value:"Become a validator",id:"become-a-validator",level:2},{value:"Starting the network",id:"starting-the-network",level:3},{value:"\ud83d\ude0a Option 1 easy: Using the LUKSO CLI",id:"-option-1-easy-using-the-lukso-cli",level:4},{value:"Install the LUKSO Command Line Interface.",id:"install-the-lukso-command-line-interface",level:5},{value:"Create a working folder.",id:"create-a-working-folder",level:5},{value:"Install the clients to run your node.",id:"install-the-clients-to-run-your-node",level:5},{value:"\ud83d\ude42 Option 2 intermediate: Using docker and docker compose",id:"-option-2-intermediate-using-docker-and-docker-compose",level:4},{value:"\ud83e\udd2f Option 3 expert: Using the genesis files",id:"-option-3-expert-using-the-genesis-files",level:4},{value:"Generate the genesis files yourself",id:"generate-the-genesis-files-yourself",level:4},{value:"Client Support",id:"client-support",level:2},{value:"Need help?",id:"need-help",level:2},{value:"Further Information",id:"further-information",level:2}],p={toc:u};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"running-a-node"},"Running a node"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"\u26a0\ufe0f The LUKSO mainnet will start on Tuesday, 23rd May 2023 15:40:00 GMT (+ Genesis Delay -> 4:20pm GMT).")),(0,r.kt)("h2",{id:"system-requirements"},"System Requirements"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Settings"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Operating System"),(0,r.kt)("td",{parentName:"tr",align:null},"Linux or MacOS")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Number of CPU cores"),(0,r.kt)("td",{parentName:"tr",align:null},"4")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"RAM"),(0,r.kt)("td",{parentName:"tr",align:null},"16 GB")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"SSD"),(0,r.kt)("td",{parentName:"tr",align:null},"100 GB")))),(0,r.kt)("h2",{id:"ports"},"Ports"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Port"),(0,r.kt)("th",{parentName:"tr",align:null},"Protocol"),(0,r.kt)("th",{parentName:"tr",align:null},"Client"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"30303"),(0,r.kt)("td",{parentName:"tr",align:null},"TCP"),(0,r.kt)("td",{parentName:"tr",align:null},"execution syncing"),(0,r.kt)("td",{parentName:"tr",align:null},"port must be open")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"30303"),(0,r.kt)("td",{parentName:"tr",align:null},"UDP"),(0,r.kt)("td",{parentName:"tr",align:null},"execution discovery"),(0,r.kt)("td",{parentName:"tr",align:null},"port must be open")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"13000"),(0,r.kt)("td",{parentName:"tr",align:null},"TCP"),(0,r.kt)("td",{parentName:"tr",align:null},"consensus syncing"),(0,r.kt)("td",{parentName:"tr",align:null},"port must be open")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"12000"),(0,r.kt)("td",{parentName:"tr",align:null},"UDP"),(0,r.kt)("td",{parentName:"tr",align:null},"consensus discovery"),(0,r.kt)("td",{parentName:"tr",align:null},"port must be open")))),(0,r.kt)("h2",{id:"the-network-start-process"},"The Network start process"),(0,r.kt)("p",null,"After the ",(0,r.kt)("a",{parentName:"p",href:"https://etherscan.io/address/0x42000421dd80D1e90E56E87e6eE18D7770b9F8cC#code"},"Genesis Deposit Contract")," was frozen on the 9th of May (",(0,r.kt)("a",{parentName:"p",href:"https://medium.com/lukso/genesis-validators-deposit-smart-contract-freeze-and-testnet-launch-c5f7b568b1fc"},"read the article"),"), LUKSO mainnet will start as a PoS Blockchain with the validators who deposited in the genesis contract. The genesis deposit contract received 10.336 deposits from 223 unique addresses (",(0,r.kt)("a",{parentName:"p",href:"https://dune.com/hmc/lukso-genesis-validators"},"source"),")."),(0,r.kt)("h2",{id:"become-a-validator"},"Become a validator"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"It is currently not possible to become a validator until the discovery month is over and the LYXe to LYX migration is live (more info in this ",(0,r.kt)("a",{parentName:"p",href:"https://medium.com/lukso/genesis-validators-deposit-smart-contract-freeze-and-testnet-launch-c5f7b568b1fc"},"article"),").")),(0,r.kt)("p",null,"To become a validator, you can use the LUKSO launchpad: ",(0,r.kt)("a",{parentName:"p",href:"https://deposit.mainnet.lukso.network/"},"https://deposit.mainnet.lukso.network/"),"."),(0,r.kt)("h3",{id:"starting-the-network"},"Starting the network"),(0,r.kt)("p",null,"If you deposited in the ",(0,r.kt)("a",{parentName:"p",href:"https://etherscan.io/address/0x42000421dd80D1e90E56E87e6eE18D7770b9F8cC#code"},"Genesis Deposit Contract")," you will need to set up your node before the network start date (Tuesday the 23rd of May - 4:20PM GMT). You have multiple options to start your node:"),(0,r.kt)("h4",{id:"-option-1-easy-using-the-lukso-cli"},"\ud83d\ude0a Option 1 ","[easy]",": Using the LUKSO CLI"),(0,r.kt)("p",null,"You can use the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/tools-lukso-cli"},"LUKSO CLI")," to prepare and run your LUKSO mainnet node. The ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/tools-lukso-cli/blob/main/README.md"},(0,r.kt)("inlineCode",{parentName:"a"},"README.md"))," has all the documentation related to the CLI, you are encouraged to check it to see all the available options."),(0,r.kt)("h5",{id:"install-the-lukso-command-line-interface"},"Install the LUKSO Command Line Interface."),(0,r.kt)("p",null,"This will install the ",(0,r.kt)("inlineCode",{parentName:"p"},"lukso")," command globally on your machine."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ curl https://install.lukso.network | sh\n")),(0,r.kt)("h5",{id:"create-a-working-folder"},"Create a working folder."),(0,r.kt)("p",null,"This folder will later contain your chain data and validator keystore files (you can always change the location in the config files later)."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ mkdir myLUKSOnode && cd myLUKSOnode\n")),(0,r.kt)("p",null,"Initialize the working folder, which will download the LUKSO network configuration and genesis files."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ lukso init\n")),(0,r.kt)("h5",{id:"install-the-clients-to-run-your-node"},"Install the clients to run your node."),(0,r.kt)("p",null,"This will need to be run from within your working folder, so the ",(0,r.kt)("inlineCode",{parentName:"p"},"cli-config.yaml")," can store your client preference for this folder. This needs to be run as a super user, as it will install the clients globally on your machine."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo lukso install\n")),(0,r.kt)("admonition",{title:"Genesis validators",type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"As a Genesis Validator you need to import your Genesis Keys (",(0,r.kt)("inlineCode",{parentName:"p"},"keystore-xxx-[timestamp].json")," files) before starting your clients.")),(0,r.kt)("p",null,"This will decrypt the keys with the password you chose when generating them, and re-encrypt them with a new password you have to choose. These new keystore files will then be stored under ",(0,r.kt)("inlineCode",{parentName:"p"},"./myLUKSOnode/mainnet-keystore")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'$ lukso validator import --validator-keys "./path/to/your/keys/folder"\n')),(0,r.kt)("p",null,"To start as a validator you need to provide a transaction fee recipient address, which will receive all transaction fees that your validator will generate."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"This can be a different address, than the withdrawal credential you added to your validator key when you generated them. It can be an EOA (not a Universal Profile smart contract address).")),(0,r.kt)("p",null,"The withdrawal credential receives the block reward for your validator. After running the command, you will be asked to enter your newly chosen validator password. You will also need to select the initial supply for the LUKSO mainnet (more information in ",(0,r.kt)("a",{parentName:"p",href:"https://medium.com/lukso/lukso-mainnet-timeline-and-process-dd997fe811c8"},"this article"),"). Make sure to set your address where you will receive validator fees on startup."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'$ lukso start --validator --transaction-fee-recipient "0x1234..."\n')),(0,r.kt)("p",null,"To check that everything is running correctly, you can see the status of all your clients using:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ lukso status\n\n# INFO[0000] PID 39424 - Execution (geth): Running \ud83d\udfe2\n# INFO[0000] PID 39430 - Consensus (prysm): Running \ud83d\udfe2\n# INFO[0000] PID 39432 - Validator (validator): Running \ud83d\udfe2\n")),(0,r.kt)("p",null,"If you want to check the logs of any of the running client you can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"lukso logs")," command and chose ONE of the clients (",(0,r.kt)("inlineCode",{parentName:"p"},"execution"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"consensus")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"validator"),") e.g.:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ lukso logs execution\n")),(0,r.kt)("p",null,"For more options, please check the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/tools-lukso-cli"},"LUKSO CLI repository"),"."),(0,r.kt)("p",null,"To enable more advanced monitoring tools, you can check the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/network-docker-monitoring"},(0,r.kt)("inlineCode",{parentName:"a"},"lukso-network/network-docker-monitoring"))," repository."),(0,r.kt)("h4",{id:"-option-2-intermediate-using-docker-and-docker-compose"},"\ud83d\ude42 Option 2 ","[intermediate]",": Using docker and docker compose"),(0,r.kt)("p",null,"Please check this repo for more information: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/network-docker-containers"},"lukso-network/network-docker-containers"),"."),(0,r.kt)("h4",{id:"-option-3-expert-using-the-genesis-files"},"\ud83e\udd2f Option 3 ","[expert]",": Using the genesis files"),(0,r.kt)("p",null,"If you run the clients yourself, using the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/network-configs/tree/main/mainnet"},"network configs")," and not the LUKSO CLI, you can download the genesis files directly and start your clients accordingly. Select the genesis files which match your initial supply choice."),(0,r.kt)("h4",{id:"generate-the-genesis-files-yourself"},"Generate the genesis files yourself"),(0,r.kt)("p",null,"If you are pro, or want to generate custom genesis files with a different option from 35M, 42M or 100M, you can follow the instructions in the below ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/tools-lodestar-genesis-ssz-generator/blob/spike/pos-from-the-start/packages/beacon-node/test/utils/README.md"},"GitHub Repository")," to generate them yourself."),(0,r.kt)("h2",{id:"client-support"},"Client Support"),(0,r.kt)("p",null,"LUKSO runs the Ethereum protocol, meaning most Ethereum clients will run the LUKSO Blockchain."),(0,r.kt)("p",null,"Currently tested execution clients are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/ethereum/go-ethereum"},"Geth"))),(0,r.kt)("p",null,"Currently tested consensus clients are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/prysmaticlabs/prysm"},"Prysm"))),(0,r.kt)("h2",{id:"need-help"},"Need help?"),(0,r.kt)("p",null,"Check the ",(0,r.kt)("a",{parentName:"p",href:"/networks/faq/validator"},"Network FAQ")," section."),(0,r.kt)("p",null,"Ask your question in the validators channel on the ",(0,r.kt)("a",{parentName:"p",href:"https://discord.gg/lukso"},"official LUKSO Discord server"),"."),(0,r.kt)("h2",{id:"further-information"},"Further Information"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://medium.com/lukso/the-puzzle-comes-together-milestone-update-2022-7b69571f63a2"},"LUKSO Mainnet Start Process Update #1")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://medium.com/lukso/lukso-mainnet-timeline-and-process-dd997fe811c8"},"LUKSO Mainnet Start Process Update #2")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://medium.com/lukso/its-happening-the-genesis-validators-are-coming-ce5e07935df6"},"LUKSO Mainnet Start Process Update #3")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://medium.com/lukso/genesis-validators-deposit-smart-contract-freeze-and-testnet-launch-c5f7b568b1fc"},"Genesis Validators Deposit Smart Contract Freeze and Testnet Launch")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://medium.com/lukso/genesis-validators-start-your-clients-fe01db8f3fba"},"Genesis Validators, start your clients!"))))}d.isMDXComponent=!0}}]);