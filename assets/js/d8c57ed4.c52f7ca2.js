"use strict";(self.webpackChunklukso_docs=self.webpackChunklukso_docs||[]).push([[8129],{3905:function(e,t,r){r.d(t,{Zo:function(){return s},kt:function(){return y}});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=n.createContext({}),c=function(e){var t=n.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):u(u({},t),e)),r},s=function(e){var t=c(e.components);return n.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=c(r),y=o,k=d["".concat(i,".").concat(y)]||d[y]||p[y]||a;return r?n.createElement(k,u(u({ref:t},s),{},{components:r})):n.createElement(k,u({ref:t},s))}));function y(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,u=new Array(a);u[0]=d;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:o,u[1]=l;for(var c=2;c<a;c++)u[c]=r[c];return n.createElement.apply(null,u)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},1318:function(e,t,r){r.r(t),r.d(t,{assets:function(){return s},contentTitle:function(){return i},default:function(){return y},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return p}});var n=r(7462),o=r(3366),a=(r(7294),r(3905)),u=["components"],l={},i="How To Backup And Recover Your Node",c={unversionedId:"networks/how_to_backup_and_recover_your_node",id:"networks/how_to_backup_and_recover_your_node",title:"How To Backup And Recover Your Node",description:"It is pretty straight forward to setup a node when your old node when your old setup doesn't work anymore. You can simply",source:"@site/docs/networks/how_to_backup_and_recover_your_node.md",sourceDirName:"networks",slug:"/networks/how_to_backup_and_recover_your_node",permalink:"/networks/how_to_backup_and_recover_your_node",editUrl:"https://github.com/lukso-network/docs/tree/main/docs/networks/how_to_backup_and_recover_your_node.md",tags:[],version:"current",frontMatter:{},sidebar:"networksSidebar",previous:{title:"L14 Public Testnet",permalink:"/networks/l14-testnet"},next:{title:"Validating at LUKSO",permalink:"/networks/validator_node"}},s={},p=[],d={toc:p};function y(e){var t=e.components,r=(0,o.Z)(e,u);return(0,a.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"how-to-backup-and-recover-your-node"},"How To Backup And Recover Your Node"),(0,a.kt)("p",null,"It is pretty straight forward to setup a node when your old node when your old setup doesn't work anymore. You can simply\nrun"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"lukso network init --chain l16\n")),(0,a.kt)("p",null,"in another instance and the setup is done in no time."),(0,a.kt)("p",null,"The problem starts with the keystore. How do you copy and move the keystore to another instance."),(0,a.kt)("p",null,"The keystore is determinstic derivative of 4 values"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"ValidatorMnemonic")," - the seed for your validator keys"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"WithdrawalMnemonic")," - which is needed to withdraw your stakes"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"KeystoreIndexFrom")," and ",(0,a.kt)("strong",{parentName:"li"},"KeyStoreIndexTo")," - the key positions that you chose to create a keystore with x amount of validator keys.")),(0,a.kt)("p",null,"If you now these 4 values you can recover your validator setup."),(0,a.kt)("p",null,"The LUKSO CLI offers 2 commands to deal with the recovery."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"lukso network validator backup\n")),(0,a.kt)("p",null,"This will produce a recovery file ",(0,a.kt)("strong",{parentName:"p"},"node_recovery.json")," with exactly these four values. Copy the content once you have setup a node and store it somewhere\nsafe."),(0,a.kt)("p",null,"If you want to recover the node you can simply do"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"lukso network init --chain l16\necho CONTENT_OF_RECOVERY_JSON_FILE > node_recovery.json\nlukso network validator recover --path ./node_recovery.json\n")),(0,a.kt)("p",null,"This will recreate your setup and recover your node."),(0,a.kt)("p",null,"NOTE"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"The recovery can only work if no validator setup was executed. It should happen immed. after you initilialsied the node."),(0,a.kt)("li",{parentName:"ul"},"NEVER run the 2 nodes at the same time - you will be prone to slashing. Make sure that one node is not running before you recover.")))}y.isMDXComponent=!0}}]);