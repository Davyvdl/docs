"use strict";(self.webpackChunklukso_docs=self.webpackChunklukso_docs||[]).push([[9502],{3905:function(e,a,n){n.d(a,{Zo:function(){return o},kt:function(){return f}});var t=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function i(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function l(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?i(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function s(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=t.createContext({}),d=function(e){var a=t.useContext(c),n=a;return e&&(n="function"==typeof e?e(a):l(l({},a),e)),n},o=function(e){var a=d(e.components);return t.createElement(c.Provider,{value:a},e.children)},m={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},p=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,o=s(e,["components","mdxType","originalType","parentName"]),p=d(n),f=r,h=p["".concat(c,".").concat(f)]||p[f]||m[f]||i;return n?t.createElement(h,l(l({ref:a},o),{},{components:n})):t.createElement(h,l({ref:a},o))}));function f(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=p;var s={};for(var c in a)hasOwnProperty.call(a,c)&&(s[c]=a[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var d=2;d<i;d++)l[d]=n[d];return t.createElement.apply(null,l)}return t.createElement.apply(null,n)}p.displayName="MDXCreateElement"},7325:function(e,a,n){n.r(a),n.d(a,{frontMatter:function(){return s},contentTitle:function(){return c},metadata:function(){return d},toc:function(){return o},default:function(){return p}});var t=n(3117),r=n(102),i=(n(7294),n(3905)),l=["components"],s={},c="ERC725",d={unversionedId:"tools/erc725js/classes/ERC725",id:"tools/erc725js/classes/ERC725",title:"ERC725",description:"decodeData",source:"@site/docs/tools/erc725js/classes/ERC725.md",sourceDirName:"tools/erc725js/classes",slug:"/tools/erc725js/classes/ERC725",permalink:"/tools/erc725js/classes/ERC725",editUrl:"https://github.com/lukso-network/docs/tree/main/docs/tools/erc725js/classes/ERC725.md",tags:[],version:"current",frontMatter:{},sidebar:"toolsSidebar",previous:{title:"Writing Data",permalink:"/tools/erc725js/writing-data"},next:{title:"Getting Started",permalink:"/tools/lsp-factoryjs/introduction/getting-started"}},o=[{value:"decodeData",id:"decodedata",children:[{value:"Parameters",id:"parameters",children:[],level:4},{value:"Returns",id:"returns",children:[],level:4},{value:"Example",id:"example",children:[],level:4}],level:2},{value:"encodeData",id:"encodedata",children:[{value:"Parameters",id:"parameters-1",children:[],level:4},{value:"Returns",id:"returns-1",children:[],level:4},{value:"Example",id:"example-1",children:[],level:4}],level:2},{value:"fetchData",id:"fetchdata",children:[{value:"Parameters",id:"parameters-2",children:[],level:4},{value:"Returns",id:"returns-2",children:[],level:4},{value:"Example",id:"example-2",children:[],level:4}],level:2},{value:"getData",id:"getdata",children:[{value:"Parameters",id:"parameters-3",children:[],level:4},{value:"Returns",id:"returns-3",children:[],level:4},{value:"Example",id:"example-3",children:[],level:4}],level:2},{value:"getOwner",id:"getowner",children:[{value:"Parameters",id:"parameters-4",children:[],level:4},{value:"Returns",id:"returns-4",children:[],level:4},{value:"Example",id:"example-4",children:[],level:4}],level:2},{value:"encodePermissions",id:"encodepermissions",children:[{value:"Parameters",id:"parameters-5",children:[],level:4},{value:"Returns",id:"returns-5",children:[],level:4},{value:"Example",id:"example-5",children:[],level:4}],level:2},{value:"decodePermissions",id:"decodepermissions",children:[{value:"Parameters",id:"parameters-6",children:[],level:4},{value:"Returns",id:"returns-6",children:[],level:4},{value:"Example",id:"example-6",children:[],level:4}],level:2},{value:"getSchema",id:"getschema",children:[{value:"Parameters",id:"parameters-7",children:[],level:4},{value:"Returns",id:"returns-7",children:[],level:4},{value:"Example",id:"example-7",children:[],level:4}],level:2},{value:"encodeKeyName",id:"encodekeyname",children:[{value:"Parameters",id:"parameters-8",children:[],level:4},{value:"Returns",id:"returns-8",children:[],level:4},{value:"Example",id:"example-8",children:[],level:4}],level:2}],m={toc:o};function p(e){var a=e.components,n=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,t.Z)({},m,n,{components:a,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"erc725"},"ERC725"),(0,i.kt)("h2",{id:"decodedata"},"decodeData"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"erc725.decodeData(data);\n")),(0,i.kt)("p",null,"In case you are reading the key-value store from an ERC725 smart-contract key-value store\nwithout ",(0,i.kt)("inlineCode",{parentName:"p"},"@erc725/erc725.js")," you can use ",(0,i.kt)("inlineCode",{parentName:"p"},"decodeData")," to do the decoding for you."),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"It is more convenient to use ",(0,i.kt)("a",{parentName:"p",href:"/tools/erc725js/classes/ERC725#fetchdata"},(0,i.kt)("inlineCode",{parentName:"a"},"fetchData")),".\nIt does the ",(0,i.kt)("inlineCode",{parentName:"p"},"decoding")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"fetching")," of external references for you automatically."))),(0,i.kt)("h4",{id:"parameters"},"Parameters"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"data")," - ",(0,i.kt)("inlineCode",{parentName:"li"},"Object"),": An object with one or many properties. The object's keys should match the key names defined in the ",(0,i.kt)("inlineCode",{parentName:"li"},"schema"),", and the value should be the encoded value you want to decode. It will decode the value according to the corresponding schema.")),(0,i.kt)("h4",{id:"returns"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Object")),(0,i.kt)("p",null,"Returns decoded data as defined and expected in the schema:"),(0,i.kt)("h4",{id:"example"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Decode one key"',title:'"Decode',one:!0,'key"':!0},"const decodedDataOneKey = erc725.decodeData({\n  LSP3Profile:\n    '0x6f357c6a820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361696670733a2f2f516d597231564a4c776572673670456f73636468564775676f3339706136727963455a4c6a7452504466573834554178',\n});\n/**\n{\n  LSP3Profile: {\n    hashFunction: 'keccak256(utf8)',\n    hash: '0x820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361',\n    url: 'ifps://QmYr1VJLwerg6pEoscdhVGugo39pa6rycEZLjtRPDfW84UAx',\n  },\n}\n*/\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Decode multiple keys"',title:'"Decode',multiple:!0,'keys"':!0},"const decodedDataManyKeys = erc725.decodeData({\n  LSP3Profile:\n    '0x6f357c6a820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361696670733a2f2f516d597231564a4c776572673670456f73636468564775676f3339706136727963455a4c6a7452504466573834554178',\n  'LSP3IssuedAssets[]': [\n    {\n      key: '0x3a47ab5bd3a594c3a8995f8fa58d0876c96819ca4516bd76100c92462f2f9dc0',\n      value:\n        '0x0000000000000000000000000000000000000000000000000000000000000002',\n    },\n    {\n      key: '0x3a47ab5bd3a594c3a8995f8fa58d087600000000000000000000000000000000',\n      value: '0xd94353d9b005b3c0a9da169b768a31c57844e490',\n    },\n    {\n      key: '0x3a47ab5bd3a594c3a8995f8fa58d087600000000000000000000000000000001',\n      value: '0xdaea594e385fc724449e3118b2db7e86dfba1826',\n    },\n  ],\n});\n/**\n{\n  LSP3Profile: {\n    hash: '0x820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361',\n    hashFunction: 'keccak256(utf8)',\n    url: 'ifps://QmYr1VJLwerg6pEoscdhVGugo39pa6rycEZLjtRPDfW84UAx',\n  },\n  'LSP3IssuedAssets[]': [\n    '0xD94353D9B005B3c0A9Da169b768a31C57844e490',\n    '0xDaea594E385Fc724449E3118B2Db7E86dFBa1826',\n  ]\n}\n*/\n")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"encodedata"},"encodeData"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"erc725.encodeData(data);\n")),(0,i.kt)("p",null,"To be able to store your data on the blockchain, you need to encode it according to your ",(0,i.kt)("inlineCode",{parentName:"p"},"ERC725JSONSchema"),"."),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"When encoding JSON it is possible to pass in the JSON object and the URL where it is available publicly.\nThe JSON will be hashed with ",(0,i.kt)("inlineCode",{parentName:"p"},"keccak256"),"."))),(0,i.kt)("h4",{id:"parameters-1"},"Parameters"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"data")," - ",(0,i.kt)("inlineCode",{parentName:"li"},"Object"),": An object with one or many properties, containing the data that needs to be encoded.")),(0,i.kt)("h4",{id:"returns-1"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Object")),(0,i.kt)("p",null,"An object with the same keys as the object that was passed in as a parameter containing the encoded data, ready to be stored on the blockchain."),(0,i.kt)("h4",{id:"example-1"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Encoding object with one key"',title:'"Encoding',object:!0,with:!0,one:!0,'key"':!0},"const encodedDataOneKey = erc725.encodeData({\n  LSP3Profile: {\n    json: profileJson, // check instantiation.js to see the actual JSON\n    url: 'ifps://QmQTqheBLZFnQUxu5RDs8tA9JtkxfZqMBcmGd9sukXxwRm',\n  },\n});\n/**\n{\n  LSP3Profile: {\n    value: '0x6f357c6a2404a2866f05e53e141eb61382a045e53c2fc54831daca9d9e1e039a11f739e1696670733a2f2f516d5154716865424c5a466e5155787535524473387441394a746b78665a714d42636d47643973756b587877526d',\n    key: '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5'\n  }\n}\n*/\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Encoding object with one key"',title:'"Encoding',object:!0,with:!0,one:!0,'key"':!0},"const encodedDataOneKeyV2 = erc725.encodeData({\n  LSP3Profile: {\n    hashFunction: 'keccak256(utf8)',\n    hash: '0x820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361',\n    url: 'ifps://QmYr1VJLwerg6pEoscdhVGugo39pa6rycEZLjtRPDfW84UAx',\n  },\n});\n/**\n{\n  LSP3Profile: {\n    value:\n      '0x6f357c6a820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361696670733a2f2f516d597231564a4c776572673670456f73636468564775676f3339706136727963455a4c6a7452504466573834554178',\n    key: '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n  },\n}\n*/\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Encoding object with multiple keys"',title:'"Encoding',object:!0,with:!0,multiple:!0,'keys"':!0},"const encodedDataManyKeys = erc725.encodeData({\n  LSP3Profile: {\n    hashFunction: 'keccak256(utf8)',\n    hash: '0x820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361',\n    url: 'ifps://QmYr1VJLwerg6pEoscdhVGugo39pa6rycEZLjtRPDfW84UAx',\n  },\n  'LSP3IssuedAssets[]': [\n    '0xD94353D9B005B3c0A9Da169b768a31C57844e490',\n    '0xDaea594E385Fc724449E3118B2Db7E86dFBa1826',\n  ],\n  LSP1UniversalReceiverDelegate: '0x1183790f29BE3cDfD0A102862fEA1a4a30b3AdAb',\n});\n/**\n{\n  LSP3Profile: {\n    value:\n      '0x6f357c6a820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361696670733a2f2f516d597231564a4c776572673670456f73636468564775676f3339706136727963455a4c6a7452504466573834554178',\n    key: '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n  },\n  'LSP3IssuedAssets[]': {\n    value: [[Object], [Object], [Object]],\n    key: '0x3a47ab5bd3a594c3a8995f8fa58d0876c96819ca4516bd76100c92462f2f9dc0',\n  },\n  LSP1UniversalReceiverDelegate: {\n    value: '0x1183790f29be3cdfd0a102862fea1a4a30b3adab',\n    key: '0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47',\n  },\n}\n*/\n")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"fetchdata"},"fetchData"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"erc725.fetchData(keyOrKeys?);\n")),(0,i.kt)("p",null,"Since ",(0,i.kt)("a",{parentName:"p",href:"/tools/erc725js/classes/ERC725#getdata"},(0,i.kt)("inlineCode",{parentName:"a"},"getData"))," exclusively returns data that is stored on the blockchain, ",(0,i.kt)("inlineCode",{parentName:"p"},"fetchData")," comes in handy.\nAdditionally to the data from the blockchain, ",(0,i.kt)("inlineCode",{parentName:"p"},"fetchData")," also returns data from IPFS or HTTP(s) endpoints\nstored as ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/master/LSPs/LSP-2-ERC725YJSONSchema.md#jsonurl"},(0,i.kt)("inlineCode",{parentName:"a"},"JSONURL"))," or ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/master/LSPs/LSP-2-ERC725YJSONSchema.md#asseturl"},(0,i.kt)("inlineCode",{parentName:"a"},"ASSETURL")),"."),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"To ensure ",(0,i.kt)("strong",{parentName:"p"},"data authenticity")," ",(0,i.kt)("inlineCode",{parentName:"p"},"fetchData")," compares the ",(0,i.kt)("inlineCode",{parentName:"p"},"hash")," of the fetched JSON with the ",(0,i.kt)("inlineCode",{parentName:"p"},"hash")," stored on the blockchain."))),(0,i.kt)("h4",{id:"parameters-2"},"Parameters"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"keyOrKeys?")," - ",(0,i.kt)("inlineCode",{parentName:"li"},"string|string[]"),": The name (or the encoded name as the schema \u2018key\u2019) of the schema element in the class instance\u2019s schema. If not set, it will fetch all the keys of the schema given at instantiation.")),(0,i.kt)("h4",{id:"returns-2"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"Object"),">"),(0,i.kt)("p",null,"Returns the fetched and decoded value depending ",(0,i.kt)("inlineCode",{parentName:"p"},"valueContent")," for the schema element, otherwise works like ",(0,i.kt)("a",{parentName:"p",href:"#getdata"},(0,i.kt)("inlineCode",{parentName:"a"},"getData()")),"."),(0,i.kt)("h4",{id:"example-2"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="All keys from schema"',title:'"All',keys:!0,from:!0,'schema"':!0},"const dataAllKeys = await erc725.fetchData();\n/**\n{\n  'SupportedStandards:LSP3UniversalProfile': '0xabe425d6',\n  LSP3Profile: {\n    LSP3Profile: {\n      name: 'patrick-mcdowell',\n      links: [Array],\n      description: \"Beautiful clothing that doesn't cost the Earth. A sustainable designer based in London Patrick works with brand partners to refocus on systemic change centred around creative education. \",\n      profileImage: [Array],\n      backgroundImage: [Array],\n      tags: [Array]\n    }\n  },\n  LSP1UniversalReceiverDelegate: '0x50A02EF693fF6961A7F9178d1e53CC8BbE1DaD68',\n  'LSP3IssuedAssets[]': [\n    '0xc444009d38d3046bb0cF81Fa2Cd295ce46A67C78',\n    '0x4fEbC3491230571F6e1829E46602e3b110215A2E',\n    '0xB92a8DdA288638491AEE5C2a003D4CAbfa47aE3F',\n    '0x1e52e7F1707dcda57dD33F003B2311652A465acA',\n    '0x0BDA71aA980D37Ea56E8a3784E4c309101DAf3E4',\n    '0xfDB4D9C299438B9839e9d04E34B9609C5b56600D',\n    '0x081D3F0bff8ae2339cb65113822eEc1510704d5c',\n    '0x55C98c6944B7497FaAf4db0386a1aD1E6efF526E',\n    '0x90D1a1D68fa23AEEE991220703f1a1C3782e0b35',\n    '0xdB5AB19792d9fB61c1Dff57810Fb7C6f839Af8ED'\n  ]\n}\n*/\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="One key"',title:'"One','key"':!0},"const dataOneKey = await erc725.fetchData('LSP3Profile');\n/**\n{\n  LSP3Profile: {\n    LSP3Profile: {\n      name: 'patrick-mcdowell',\n      links: [Array],\n      description: \"Beautiful clothing that doesn't cost the Earth. A sustainable designer based in London Patrick works with brand partners to refocus on systemic change centred around creative education. \",\n      profileImage: [Array],\n      backgroundImage: [Array],\n      tags: [Array]\n    }\n  }\n}\n*/\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Many keys"',title:'"Many','keys"':!0},"const dataManyKeys = await erc725.fetchData([\n  'LSP3Profile',\n  'LSP1UniversalReceiverDelegate',\n]);\n/**\n{\n  LSP3Profile: {\n    LSP3Profile: {\n      name: 'patrick-mcdowell',\n      links: [Array],\n      description: \"Beautiful clothing that doesn't cost the Earth. A sustainable designer based in London Patrick works with brand partners to refocus on systemic change centred around creative education. \",\n      profileImage: [Array],\n      backgroundImage: [Array],\n      tags: [Array]\n    }\n  },\n  LSP1UniversalReceiverDelegate: '0x50A02EF693fF6961A7F9178d1e53CC8BbE1DaD68'\n}\n*/\n")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"getdata"},"getData"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"erc725.getData(keyOrKeys?);\n")),(0,i.kt)("p",null,"Gets ",(0,i.kt)("strong",{parentName:"p"},"decoded data")," for one, many or all keys of the specified ",(0,i.kt)("inlineCode",{parentName:"p"},"ERC725")," smart-contract.\nWhen omitting the ",(0,i.kt)("inlineCode",{parentName:"p"},"keyOrKeys")," parameter, it will get all the keys (as per ",(0,i.kt)("inlineCode",{parentName:"p"},"ERC725JSONSchema")," definition)."),(0,i.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Data returned by this function does not contain external data of ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/master/LSPs/LSP-2-ERC725YJSONSchema.md#jsonurl"},(0,i.kt)("inlineCode",{parentName:"a"},"JSONURL")),"\nor ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/master/LSPs/LSP-2-ERC725YJSONSchema.md#asseturl"},(0,i.kt)("inlineCode",{parentName:"a"},"ASSETURL"))," schema elements."),(0,i.kt)("p",{parentName:"div"},"If you would like to receive everything in one go, you can use ",(0,i.kt)("a",{parentName:"p",href:"/tools/erc725js/classes/ERC725#fetchdata"},(0,i.kt)("inlineCode",{parentName:"a"},"fetchData")),"."))),(0,i.kt)("h4",{id:"parameters-3"},"Parameters"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"keyOrKeys?")," - ",(0,i.kt)("inlineCode",{parentName:"li"},"string|string[]"),": The name (or the encoded name as the schema \u2018key\u2019) of the schema element in the class instance\u2019s schema. If not set, it will get all the keys of the schema given at instantiation.")),(0,i.kt)("h4",{id:"returns-3"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"Object"),">"),(0,i.kt)("p",null,"An object with schema element key names as properties, with corresponding ",(0,i.kt)("strong",{parentName:"p"},"decoded")," data as values."),(0,i.kt)("h4",{id:"example-3"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="All keys from schema"',title:'"All',keys:!0,from:!0,'schema"':!0},"const dataAllKeys = await erc725.getData();\n/**\n{\n  'SupportedStandards:LSP3UniversalProfile': '0xabe425d6',\n  LSP3Profile: {\n    hashFunction: 'keccak256(utf8)',\n    hash: '0xd96ff7776660095f661d16010c4349aa7478a9129ce0670f771596a6ff2d864a',\n    url: 'ipfs://QmbTmcbp8ZW23vkQrqkasMFqNg2z1iP4e3BCUMz9PKDsSV'\n  },\n  LSP1UniversalReceiverDelegate: '0x50A02EF693fF6961A7F9178d1e53CC8BbE1DaD68',\n  'LSP3IssuedAssets[]': [\n    '0xc444009d38d3046bb0cF81Fa2Cd295ce46A67C78',\n    '0x4fEbC3491230571F6e1829E46602e3b110215A2E',\n    '0xB92a8DdA288638491AEE5C2a003D4CAbfa47aE3F',\n    '0x1e52e7F1707dcda57dD33F003B2311652A465acA',\n    '0x0BDA71aA980D37Ea56E8a3784E4c309101DAf3E4',\n    '0xfDB4D9C299438B9839e9d04E34B9609C5b56600D',\n    '0x081D3F0bff8ae2339cb65113822eEc1510704d5c',\n    '0x55C98c6944B7497FaAf4db0386a1aD1E6efF526E',\n    '0x90D1a1D68fa23AEEE991220703f1a1C3782e0b35',\n    '0xdB5AB19792d9fB61c1Dff57810Fb7C6f839Af8ED'\n  ]\n}\n*/\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="One key"',title:'"One','key"':!0},"const dataOneKey = await erc725.getData('LSP3Profile');\n/**\n{\n  LSP3Profile: {\n    hashFunction: 'keccak256(utf8)',\n    hash: '0xd96ff7776660095f661d16010c4349aa7478a9129ce0670f771596a6ff2d864a',\n    url: 'ipfs://QmbTmcbp8ZW23vkQrqkasMFqNg2z1iP4e3BCUMz9PKDsSV'\n  }\n}\n*/\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Many keys"',title:'"Many','keys"':!0},"const dataManyKeys = await erc725.getData([\n  'LSP3Profile',\n  'LSP1UniversalReceiverDelegate',\n]);\n/**\n{\n  LSP3Profile: {\n    hashFunction: 'keccak256(utf8)',\n    hash: '0xd96ff7776660095f661d16010c4349aa7478a9129ce0670f771596a6ff2d864a',\n    url: 'ipfs://QmbTmcbp8ZW23vkQrqkasMFqNg2z1iP4e3BCUMz9PKDsSV'\n  },\n  LSP1UniversalReceiverDelegate: '0x50A02EF693fF6961A7F9178d1e53CC8BbE1DaD68'\n}\n*/\n")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"getowner"},"getOwner"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"erc725.getOwner(address?);\n")),(0,i.kt)("p",null,"An added utility method which simply returns the owner of the contract.\nNot directly related to ERC725 specifications."),(0,i.kt)("h4",{id:"parameters-4"},"Parameters"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"address?")," - ",(0,i.kt)("inlineCode",{parentName:"li"},"string"),": If not set, it will return the owner of the contract used to initialise the ERC725() class.")),(0,i.kt)("h4",{id:"returns-4"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("inlineCode",{parentName:"p"},"any"),">"),(0,i.kt)("p",null,"The address of the contract owner as stored in the contract."),(0,i.kt)("h4",{id:"example-4"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// If no address is set, it will return the owner of the contract used to initialise the ERC725() class.\nawait erc725.getOwner();\n// '0x94933413384997F9402cc07a650e8A34d60F437A'\n\n// You can also get the owner of a specific contract by setting the address paramater\nawait erc725.getOwner('0x3000783905Cc7170cCCe49a4112Deda952DDBe24');\n// '0x7f1b797b2Ba023Da2482654b50724e92EB5a7091'\n")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"encodepermissions"},"encodePermissions"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"ERC725.encodePermissions(permissions);\n")),(0,i.kt)("p",null,"Encode permissions into a hexadecimal string as defined by the ",(0,i.kt)("a",{parentName:"p",href:"https://docs.lukso.tech/standards/universal-profile/lsp6-key-manager"},"LSP6 KeyManager Standard"),"."),(0,i.kt)("p",null,"This is a static method so does not require an instantiated ERC725 object."),(0,i.kt)("h4",{id:"parameters-5"},"Parameters"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"permissions")," - ",(0,i.kt)("inlineCode",{parentName:"li"},"Object"),": An object with ",(0,i.kt)("a",{parentName:"li",href:"../../../../../standards/universal-profile/lsp6-key-manager#-address-permissions"},"LSP6 KeyManager Permissions")," as keys and a ",(0,i.kt)("inlineCode",{parentName:"li"},"boolean")," as value. Any ommited Permissions will default to false.")),(0,i.kt)("h4",{id:"returns-5"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"string")),(0,i.kt)("p",null,"The permissions encoded as a hexadecimal string as defined by the ",(0,i.kt)("a",{parentName:"p",href:"https://docs.lukso.tech/standards/universal-profile/lsp6-key-manager"},"LSP6 KeyManager Standard"),"."),(0,i.kt)("h4",{id:"example-5"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"ERC725.encodePermissions({\n  CHANGEOWNER: false,\n  CHANGEPERMISSIONS: false,\n  ADDPERMISSIONS: false,\n  SETDATA: false,\n  CALL: true,\n  STATICCALL: false,\n  DELEGATECALL: false,\n  DEPLOY: false,\n  TRANSFERVALUE: true,\n  SIGN: false,\n}),\n// '0x0000000000000000000000000000000000000000000000000000000000000110'\n\n\n// Any ommited Permissions will default to false\nERC725.encodePermissions({\n  CHANGEPERMISSIONS: true,\n  SETDATA: true,\n}),\n// '0x000000000000000000000000000000000000000000000000000000000000000a'\n")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"decodepermissions"},"decodePermissions"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"ERC725.decodePermissions(permission);\n")),(0,i.kt)("p",null,"Decodes permissions from hexadecimal as defined by the ",(0,i.kt)("a",{parentName:"p",href:"https://docs.lukso.tech/standards/universal-profile/lsp6-key-manager"},"LSP6 KeyManager Standard"),"."),(0,i.kt)("p",null,"This is a static method so does not require an instantiated ERC725 object."),(0,i.kt)("h4",{id:"parameters-6"},"Parameters"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"permission")," - ",(0,i.kt)("inlineCode",{parentName:"li"},"string"),": The encoded permission (32bytes hex).")),(0,i.kt)("h4",{id:"returns-6"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Object")),(0,i.kt)("p",null,"Object specifying whether default LSP6 permissions are included in provided hexademical string."),(0,i.kt)("h4",{id:"example-6"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"ERC725.decodePermissions('0x0000000000000000000000000000000000000000000000000000000000000110'),\n/**\n{\n  CHANGEOWNER: false,\n  CHANGEPERMISSIONS: false,\n  ADDPERMISSIONS: false,\n  SETDATA: false,\n  CALL: true,\n  STATICCALL: false,\n  DELEGATECALL: false,\n  DEPLOY: false,\n  TRANSFERVALUE: true,\n  SIGN: false,\n}\n*/\n\nERC725.decodePermissions('0x000000000000000000000000000000000000000000000000000000000000000a'),\n/**\n{\n  CHANGEOWNER: false,\n  CHANGEPERMISSIONS: true,\n  ADDPERMISSIONS: false,\n  SETDATA: true,\n  CALL: false,\n  STATICCALL: false,\n  DELEGATECALL: false,\n  DEPLOY: false,\n  TRANSFERVALUE: false,\n  SIGN: false,\n}\n*/\n")),(0,i.kt)("h2",{id:"getschema"},"getSchema"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"erc725.getSchema(keyOrKeys, providedSchemas?);\n")),(0,i.kt)("p",null,"Parses a hashed key or a list of hashed keys and will attempt to return its corresponding ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md"},"LSP-2 ERC725YJSONSchema")," object.\nThe function will look for a corresponding key within the schemas:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"in ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/ERC725Alliance/erc725.js/tree/develop/src/schemas"},(0,i.kt)("inlineCode",{parentName:"a"},"./schemas"))," folder (which includes all LUKSO ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/lukso-network/LIPs/tree/main/LSPs"},"LSPs"),")"),(0,i.kt)("li",{parentName:"ul"},"provided at ERC725 initialisation"),(0,i.kt)("li",{parentName:"ul"},"provided in the function call (",(0,i.kt)("inlineCode",{parentName:"li"},"providedSchemas"),")")),(0,i.kt)("h4",{id:"parameters-7"},"Parameters"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"keyOrKeys")," - ",(0,i.kt)("inlineCode",{parentName:"li"},"string|string[]"),": The key(s) you are trying to get the schema for."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"providedSchemas")," - ",(0,i.kt)("inlineCode",{parentName:"li"},"ERC725JSONSchema[]")," : An array of extra ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md"},"LSP-2 ERC725YJSONSchema")," objects that can be used to find the schema.")),(0,i.kt)("h4",{id:"returns-7"},"Returns"),(0,i.kt)("p",null,"If ",(0,i.kt)("inlineCode",{parentName:"p"},"keyOrKeys")," is a ",(0,i.kt)("inlineCode",{parentName:"p"},"string"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"ERC725JSONSchema | null")),(0,i.kt)("p",null,"If ",(0,i.kt)("inlineCode",{parentName:"p"},"keyOrKeys")," is a ",(0,i.kt)("inlineCode",{parentName:"p"},"string[]"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"Record<string, ERC725JSONSchema | null>")),(0,i.kt)("p",null,"If the schema of a key is not found, it will return ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),"."),(0,i.kt)("h4",{id:"example-7"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"erc725.getSchema(\n  '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n);\n/**\n{\n  name: 'LSP3Profile',\n  key: '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n  keyType: 'Singleton',\n  valueContent: 'JSONURL',\n  valueType: 'bytes'\n}\n*/\n\nerc725.getSchema([\n  '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n  '0x3a47ab5bd3a594c3a8995f8fa58d087600000000000000000000000000000001',\n]);\n/**\n{\n  '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5': {\n    name: 'LSP3Profile',\n    key: '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n    keyType: 'Singleton',\n    valueContent: 'JSONURL',\n    valueType: 'bytes'\n  },\n  '0x3a47ab5bd3a594c3a8995f8fa58d087600000000000000000000000000000001': {\n    name: 'LSP3IssuedAssets[1]',\n    key: '0x3a47ab5bd3a594c3a8995f8fa58d0876c96819ca4516bd76100c92462f2f9dc0',\n    keyType: 'Singleton',\n    valueContent: 'Address',\n    valueType: 'address'\n  }\n}\n*/\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="With a custom schema"',title:'"With',a:!0,custom:!0,'schema"':!0},"erc725.getSchema(\n  '0x777f55baf2e0c9f73d3bb456dfb8dbf6e609bf557969e3184c17ff925b3c402c',\n  [\n    {\n      name: 'ParameterSchema',\n      key: '0x777f55baf2e0c9f73d3bb456dfb8dbf6e609bf557969e3184c17ff925b3c402c',\n      keyType: 'Singleton',\n      valueContent: 'JSONURL',\n      valueType: 'bytes',\n    },\n  ],\n);\n\n/**\n{\n  name: 'ParameterSchema',\n  key: '0x777f55baf2e0c9f73d3bb456dfb8dbf6e609bf557969e3184c17ff925b3c402c',\n  keyType: 'Singleton',\n  valueContent: 'JSONURL',\n  valueType: 'bytes',\n}\n*/\n")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"encodekeyname"},"encodeKeyName"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"ERC725.encodeKeyName(keyName);\n")),(0,i.kt)("p",null,"Hashes a key name for use on an ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/ethereum/EIPs/blob/master/EIPS/eip-725.md#erc725y"},"ERC725Y contract")," according to the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md"},"LSP2 ERC725Y JSON Schema standard"),"."),(0,i.kt)("p",null,"This is a static method so does not require an instantiated ERC725 object."),(0,i.kt)("h4",{id:"parameters-8"},"Parameters"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"keyName")," - ",(0,i.kt)("inlineCode",{parentName:"li"},"string"),": The key name you want to encode.")),(0,i.kt)("h4",{id:"returns-8"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"string")),(0,i.kt)("p",null,"The keccak256 hash of the provided key name. This is the key that must be retrievable from the ERC725Y contract via ERC725Y.getData(bytes32 key)."),(0,i.kt)("h4",{id:"example-8"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"ERC725.encodeKeyName('LSP3Profile');\n// '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5'\n\nERC725.encodeKeyName('SupportedStandards:ERC725Account');\n// '0xeafec4d89fa9619884b6b89135626455000000000000000000000000afdeb5d6'\n\nERC725.encodeKeyName('AddressPermissions:Permissions:cafecafecafecafecafecafecafecafecafecafe');\n// '0x4b80742d0000000082ac0000cafecafecafecafecafecafecafecafecafecafe'\n")))}p.isMDXComponent=!0}}]);